<?php require_once 'variables.php'; abstract class SmsC extends SmsAdapter { const SERVER_TIMEZONE = "Europe/Prague"; const ACTION_SEND = "sendsms"; const ACTION_SENDALL = "sendsmsall"; const ACTION_SENDALL_DTEXT = "sendsmsall2"; private $vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b; private $v2d9567d55240c61334dfc86a77223e74a4f98099; private $v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86; private $v98414cde3d36661d1db1db7d00d0775fb8bc70f4; private $v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; private $vb941014a26975b5bf58e115f7c72dce610088678; public function __construct($idbab7827c872e4433d9fa75bd1cc8e58a2f45e5b, $i98414cde3d36661d1db1db7d00d0775fb8bc70f4, $i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee, $ib941014a26975b5bf58e115f7c72dce610088678 = 0) { $this->vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b = $idbab7827c872e4433d9fa75bd1cc8e58a2f45e5b; $this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 = $i98414cde3d36661d1db1db7d00d0775fb8bc70f4; $this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee = $i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; $this->vb941014a26975b5bf58e115f7c72dce610088678 = $ib941014a26975b5bf58e115f7c72dce610088678; } private function f7c9a0aaaad4067fa34fe6b16e1ac2d96a7d05b37(&$i9d25d63b084741b66fc91ec7fe891607f034d10c, $ib6d2cdf28e556d600dabcd9e147fd00d396277a5 = SMS_BULK_COUNT) { if(count($i9d25d63b084741b66fc91ec7fe891607f034d10c) == 0) { return false; } $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f = 0; $ib1199182837e705aae8d93f525c88b1184f9395d = array("isms" => array(), "mobile" => array(), "senderID" => array(), "sendertype" => array(), "text" => array()); foreach($i9d25d63b084741b66fc91ec7fe891607f034d10c as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $i6de5513d7bf66573dedf3f2f853ce5457a8f957f) { $ib1199182837e705aae8d93f525c88b1184f9395d["isms"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->isms; $ib1199182837e705aae8d93f525c88b1184f9395d["mobile"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->mobile; $ib1199182837e705aae8d93f525c88b1184f9395d["senderID"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->IDsender; $ib1199182837e705aae8d93f525c88b1184f9395d["sendertype"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->TYPEsender; $ib1199182837e705aae8d93f525c88b1184f9395d["customerid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->IDcustomer; $ib1199182837e705aae8d93f525c88b1184f9395d["adminid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->IDadmin; $ib1199182837e705aae8d93f525c88b1184f9395d["text"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->text; unset($i9d25d63b084741b66fc91ec7fe891607f034d10c[$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]); $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f++; if($i35d0bf7a77a6df945bffd9eb93f1166d26c8231f == $ib6d2cdf28e556d600dabcd9e147fd00d396277a5) { break; } } return $ib1199182837e705aae8d93f525c88b1184f9395d; } static public function issetInArray($id6df7fb626ea7dcb74a3aeaed55471bda0715fc1, $i893b0ce6c5e5a26144f9a767ada7fa7e94c0cc2b, $i8015fefd0d6396e51df8ce7f7110524963384f29 = 0) { if(isset($id6df7fb626ea7dcb74a3aeaed55471bda0715fc1[$i893b0ce6c5e5a26144f9a767ada7fa7e94c0cc2b])) { return $id6df7fb626ea7dcb74a3aeaed55471bda0715fc1[$i893b0ce6c5e5a26144f9a767ada7fa7e94c0cc2b]; } return $i8015fefd0d6396e51df8ce7f7110524963384f29; } private function f96d0f61a23075f8475b521cf77231ef5e7638c01() { if($this->sendLater) { $i1548a96b3354c4b6d80c8278133fdb971c700757 = new DateTime(); if($this->laterDate <= $i1548a96b3354c4b6d80c8278133fdb971c700757) { $this->_error = true; $this->_errorCode[] = v_sendsms_wrongtime; return false; } else { $this->laterDate->setTimezone(new DateTimeZone(self::SERVER_TIMEZONE)); return base64_decode("JmRhdGVsYXRlcj0=").$this->laterDate->format("U"); } } return ""; } protected function sendSmsAll($ib6d2cdf28e556d600dabcd9e147fd00d396277a5) { while($i9d25d63b084741b66fc91ec7fe891607f034d10c = $this->f7c9a0aaaad4067fa34fe6b16e1ac2d96a7d05b37($this->phoneNumbers, $ib6d2cdf28e556d600dabcd9e147fd00d396277a5)) { if($this->bulkType == SmsModel::SMS_BULK) { $ib17553f86a6e6460083956094e21682b0eb19a5b = SmsModel::ACTION_SENDALL; $i277fcb2f9a3db43b30b18e9ee33b28492ed37691 = $this->f96d0f61a23075f8475b521cf77231ef5e7638c01(); if($this->_error) { return false; } $i606f3fb8e44ee170425d3fa66e769d520abe8108 = html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = addslashes($i606f3fb8e44ee170425d3fa66e769d520abe8108); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = str_replace("&amp;", "%26", $i606f3fb8e44ee170425d3fa66e769d520abe8108); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = str_replace("&", "%26", $i606f3fb8e44ee170425d3fa66e769d520abe8108); $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("JmRhdGE9").$i606f3fb8e44ee170425d3fa66e769d520abe8108; } elseif($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $ib17553f86a6e6460083956094e21682b0eb19a5b = SmsModel::ACTION_SENDALL_DTEXT; $i277fcb2f9a3db43b30b18e9ee33b28492ed37691 = $this->f96d0f61a23075f8475b521cf77231ef5e7638c01(); $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f = 0; $ib1199182837e705aae8d93f525c88b1184f9395d = ""; foreach($i9d25d63b084741b66fc91ec7fe891607f034d10c[SmsModel::NUMBER_TEXT] as $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) { $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69 = html_entity_decode($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69, ENT_QUOTES, 'UTF-8'); $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69 = addslashes($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69); $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69 = str_replace("&amp;", "%26", $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69); $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69 = str_replace("&", "%26", $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69); $ib1199182837e705aae8d93f525c88b1184f9395d .= "&data".$i35d0bf7a77a6df945bffd9eb93f1166d26c8231f."=".$i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69; $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f++; } if($this->_error) { return false; } } else { $ib17553f86a6e6460083956094e21682b0eb19a5b = SmsModel::ACTION_SEND; $i277fcb2f9a3db43b30b18e9ee33b28492ed37691 = ""; $i606f3fb8e44ee170425d3fa66e769d520abe8108 = html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = addslashes($i606f3fb8e44ee170425d3fa66e769d520abe8108); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = str_replace("&amp;", "%26", $i606f3fb8e44ee170425d3fa66e769d520abe8108); $i606f3fb8e44ee170425d3fa66e769d520abe8108 = str_replace("&", "%26", $i606f3fb8e44ee170425d3fa66e769d520abe8108); $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("JmRhdGE9").$i606f3fb8e44ee170425d3fa66e769d520abe8108; } $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPQ==").$ib17553f86a6e6460083956094e21682b0eb19a5b. base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4. base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee. base64_decode("JnVuaWNvZGU9").$this->unicode. $ib1199182837e705aae8d93f525c88b1184f9395d. base64_decode("Jm51bWJlcj0=").implode(";",$i9d25d63b084741b66fc91ec7fe891607f034d10c["mobile"]). base64_decode("JmlzbXM9").implode(";",$i9d25d63b084741b66fc91ec7fe891607f034d10c["isms"]). base64_decode("JnNlbmRlcj0=").implode(";",$i9d25d63b084741b66fc91ec7fe891607f034d10c["senderID"]). $i277fcb2f9a3db43b30b18e9ee33b28492ed37691; if($this->vb941014a26975b5bf58e115f7c72dce610088678 == 1) { $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = 29; $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86 = ""; } else { $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); } if($this->v2d9567d55240c61334dfc86a77223e74a4f98099==1) { $ic0ecca3de04edf446580acd5b28e7af5ccd3af1b = explode("QQQ___QQQ", $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86); foreach($ic0ecca3de04edf446580acd5b28e7af5ccd3af1b as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $ibd0578718e12a692b299a588249092e07aac601e) { $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = 0; if(preg_match(DcDeR, $ibd0578718e12a692b299a588249092e07aac601e, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } $i63f3ee19fc0880ce8b13ae7a87da9dd5ef18ccd8 = explode("__",$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); $ie68cd676eebd298765c31b15dffbf546a21ac515 = new SmsHistoryLogger($this->db); if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 || $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 11) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = ""; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_SENT; $this->_confirmCode[] = v_sendsms_smssent; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 111) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = "SMS will be send later - ".$this->laterDate->format("Y-m-d H:i:s"); $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_BUFFERED; $this->_confirmCode[] = v_sendsms_smssaved; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 9) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_sendsms_wrongnumber; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = v_sendsms_smssaved; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 15) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_sendsms_unauthorized; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 10) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = "low credit for sending sms"; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 22) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_sendsms_nounicode; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 23) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_smshistory_duplicate; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_DUPLICATE; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_sendsms_loginerror; $i4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = SmsModel::STATUS_ERROR; $this->_errorCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; $this->_error = true; } if($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $i606f3fb8e44ee170425d3fa66e769d520abe8108 = $i9d25d63b084741b66fc91ec7fe891607f034d10c["text"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]; } $ie68cd676eebd298765c31b15dffbf546a21ac515->number($i9d25d63b084741b66fc91ec7fe891607f034d10c["mobile"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->text($i606f3fb8e44ee170425d3fa66e769d520abe8108) ->status($i4786607b2e7dfa9462edea09fe32c7ff3fc405e8) ->price(self::issetInArray($i63f3ee19fc0880ce8b13ae7a87da9dd5ef18ccd8, 1)) ->credit(self::issetInArray($i63f3ee19fc0880ce8b13ae7a87da9dd5ef18ccd8, 2)) ->sender($i9d25d63b084741b66fc91ec7fe891607f034d10c["senderID"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->unicode($this->unicode) ->type($this->typeSms) ->smsid(self::issetInArray($i63f3ee19fc0880ce8b13ae7a87da9dd5ef18ccd8, 0)) ->total($this->smsCounterIn($i606f3fb8e44ee170425d3fa66e769d520abe8108)) ->note($i3aa3b6bd09f39e42e2b394287f610dd81fcffa78) ->adminid($i9d25d63b084741b66fc91ec7fe891607f034d10c["adminid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->customerid($i9d25d63b084741b66fc91ec7fe891607f034d10c["customerid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->subject($this->subject) ->recipient($this->recipient) ->save(); } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099==2) { $this->_errors[] = v_sendsms_cantconnect; $this->_error = true; } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099==29) { foreach($i9d25d63b084741b66fc91ec7fe891607f034d10c["mobile"] as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $ibd0578718e12a692b299a588249092e07aac601e) { if($this->bulkType == SmsModel::SMS_BULK_DTEXT) { $i606f3fb8e44ee170425d3fa66e769d520abe8108 = $i9d25d63b084741b66fc91ec7fe891607f034d10c["text"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]; } $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = v_sendsms_simulationconfirm; $ie68cd676eebd298765c31b15dffbf546a21ac515 = new SmsHistoryLogger($this->db); $ie68cd676eebd298765c31b15dffbf546a21ac515->number($ibd0578718e12a692b299a588249092e07aac601e) ->text($i606f3fb8e44ee170425d3fa66e769d520abe8108) ->status(SmsModel::STATUS_SIMULATION) ->sender($i9d25d63b084741b66fc91ec7fe891607f034d10c["senderID"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->unicode($this->unicode) ->type($this->typeSms) ->note($i3aa3b6bd09f39e42e2b394287f610dd81fcffa78) ->total($this->smsCounterIn($i606f3fb8e44ee170425d3fa66e769d520abe8108)) ->adminid($i9d25d63b084741b66fc91ec7fe891607f034d10c["adminid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->customerid($i9d25d63b084741b66fc91ec7fe891607f034d10c["customerid"][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) ->subject($this->subject) ->recipient($this->recipient) ->save(); } $this->_confirmCode[] = $i3aa3b6bd09f39e42e2b394287f610dd81fcffa78; } } return !$this->_error; } public function GetSmsInfo() { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWluZm8y") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1) { return explode(";",$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_sendsms_error; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_errorCode[] = v_sendsms_loginerror; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errorCode[] = v_sendsms_cantconnect; $this->_error = true; return false; } } public function refreshVersion() { $ib1199182837e705aae8d93f525c88b1184f9395d = "action=showlastversion &username=".$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4." &password=".$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } else { return false; } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 && strlen($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) > 0) { return $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_error; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099==2) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_cantconnect; return false; } } public function registerSmsAccount($i139fa9617e9d70e3d55f87d6ad4113c40da3102d, $ie9599f6e53cc27b46699f94805a73f5eccf9f0dc, $i94a47481735fcb1d4d39399453984453fa0ec578, $i2950dcb306aa6a84739ae117f72d37fbfc177af7, $if807cf403609c75a25d2c8b19d9a8e1b0f3146e4, $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078, $ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b, $i067d9e62ac114d017597fbfc5a16bdfd07fb847b, $i909875e864574ac324b2cc5a0493b8e53c5f2ed4, $icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7, $i228783d167ecdf2325f0dabfe191e58f5099bde8) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPXJlZ2lzdGVy") .base64_decode("JmVtYWlsPQ==").$i139fa9617e9d70e3d55f87d6ad4113c40da3102d .base64_decode("JmptZW5vPQ==").$ie9599f6e53cc27b46699f94805a73f5eccf9f0dc ."&adresa_ulice=".$i94a47481735fcb1d4d39399453984453fa0ec578 ."&adresa_mesto=".$i2950dcb306aa6a84739ae117f72d37fbfc177af7 ."&adresa_PSC=".$if807cf403609c75a25d2c8b19d9a8e1b0f3146e4 ."&country0=".$i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 .base64_decode("JklDTz0=").$ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b .base64_decode("JkRJQz0=").$i067d9e62ac114d017597fbfc5a16bdfd07fb847b .base64_decode("JnJlZmVyZXJpZD0=").$i909875e864574ac324b2cc5a0493b8e53c5f2ed4 .base64_decode("Jmtvc29iYT0=").$icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7 .base64_decode("JmtwcmlqbWVuaT0=").$i228783d167ecdf2325f0dabfe191e58f5099bde8; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 && strlen($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) > 5) { $ib1199182837e705aae8d93f525c88b1184f9395d = explode(";",$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); $this->Execute("DELETE FROM ".DB_PREFIX."sp_smsuser"); $this->Execute("INSERT INTO ".DB_PREFIX."sp_smsuser VALUES ('1','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[0])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[1])."','".$this->escape($i139fa9617e9d70e3d55f87d6ad4113c40da3102d)."','".$this->escape($ie9599f6e53cc27b46699f94805a73f5eccf9f0dc)."','".$this->escape($i94a47481735fcb1d4d39399453984453fa0ec578)."','".$this->escape($i2950dcb306aa6a84739ae117f72d37fbfc177af7)."','".$this->escape($if807cf403609c75a25d2c8b19d9a8e1b0f3146e4)."','".$this->escape($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078)."','".$this->escape($ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b)."','".$this->escape($i067d9e62ac114d017597fbfc5a16bdfd07fb847b)."',0,0,0,'',0,'".$this->escape($icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7)."','".$this->escape($i228783d167ecdf2325f0dabfe191e58f5099bde8)."')"); $this->_confirmCode[] = v_adminsmsprofile_accountcreated; return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_addaccounttext.(ceil($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3/60)).v_adminsmsprofile_minutes; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_error = true; $this->_errorCode[] = v_adminsmsprofile_cantconnect; return false; } } public function editAccount($i139fa9617e9d70e3d55f87d6ad4113c40da3102d, $ie9599f6e53cc27b46699f94805a73f5eccf9f0dc, $i94a47481735fcb1d4d39399453984453fa0ec578, $i2950dcb306aa6a84739ae117f72d37fbfc177af7, $if807cf403609c75a25d2c8b19d9a8e1b0f3146e4, $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078, $ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b, $i067d9e62ac114d017597fbfc5a16bdfd07fb847b, $icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7, $i228783d167ecdf2325f0dabfe191e58f5099bde8) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWVkaXQ=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee .base64_decode("JmVtYWlsPQ==").$i139fa9617e9d70e3d55f87d6ad4113c40da3102d .base64_decode("JmptZW5vPQ==").$ie9599f6e53cc27b46699f94805a73f5eccf9f0dc ."&adresa_ulice=".$i94a47481735fcb1d4d39399453984453fa0ec578 ."&adresa_mesto=".$i2950dcb306aa6a84739ae117f72d37fbfc177af7 ."&adresa_PSC=".$if807cf403609c75a25d2c8b19d9a8e1b0f3146e4 ."&country0=".$i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 .base64_decode("JklDTz0=").$ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b .base64_decode("JkRJQz0=").$i067d9e62ac114d017597fbfc5a16bdfd07fb847b .base64_decode("Jmtvc29iYT0=").$icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7 .base64_decode("JmtwcmlqbWVuaT0=").$i228783d167ecdf2325f0dabfe191e58f5099bde8; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099==1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET email='".$this->escape($i139fa9617e9d70e3d55f87d6ad4113c40da3102d)."', companyname='".$this->escape($ie9599f6e53cc27b46699f94805a73f5eccf9f0dc)."',addressstreet='".$this->escape($i94a47481735fcb1d4d39399453984453fa0ec578)."',addresscity='".$this->escape($i2950dcb306aa6a84739ae117f72d37fbfc177af7)."',addresszip='".$this->escape($if807cf403609c75a25d2c8b19d9a8e1b0f3146e4)."',country0='".$this->escape($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078)."',companyid='".$this->escape($ibcec5f7d7295ee797901b9c5fe2758f8a074ba4b)."',companyvat='".$this->escape($i067d9e62ac114d017597fbfc5a16bdfd07fb847b)."',kosoba='".$this->escape($icae1003a7b78317ecd106d559490d2ed7842f019913b8360e9b2834ed2fc65e1fbcb2fdd72ce7e7)."',kprijmeni='".$this->escape($i228783d167ecdf2325f0dabfe191e58f5099bde8)."' WHERE ID=1"); return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 5) { $this->_errorCode[] = v_adminsmsprofile_nochanges; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } } public function loginAccount($i98414cde3d36661d1db1db7d00d0775fb8bc70f4, $i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWxvZ2lu") .base64_decode("JnVzZXJuYW1lPQ==").$i98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 && strlen($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) > 0) { $ib1199182837e705aae8d93f525c88b1184f9395d = explode(";",$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); $this->Execute("DELETE FROM ".DB_PREFIX."sp_smsuser;"); $this->Execute("INSERT INTO ".DB_PREFIX."sp_smsuser VALUES ('1','".$this->escape($i98414cde3d36661d1db1db7d00d0775fb8bc70f4)."','".$this->escape($i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee)."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[0])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[1])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[2])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[3])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[4])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[7])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[5])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[6])."',0,0,0,'',0,'".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[8])."','".$this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[9])."')"); $this->_confirmCode[] = v_adminsmsprofile_loginok; return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_errorCode[] = v_adminsmsprofile_loginerror; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099==2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } } public function editOtherSettings($icae1003a7b78317ecd106d559490d2ed7842f01917d5d79435864186bbd31ed71a5dfa74d68c67d, $i4df99316d961704cddd07807376211e0beb97d64, $iab7a33a49f2bfc6e28807ec8880b1061d592e624, $i6e1d16d587c35e7b499da19509cf73267140be45, $i917148025609cbe0f0445ba9321628bba1aa325b, $ic60b91adb4543bf8dced9a68ff72d3b94499793d, $ic204e41860786a562e4034aedbbf697d6acc2137, $i98414cde3d36661d1db1db7d00d0775fb8bc70f4 = null, $i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee = null) { if(!isset($this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4)) { $this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 = $i98414cde3d36661d1db1db7d00d0775fb8bc70f4; } if(!isset($this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee)) { $this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee = $i3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; } $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWVkaXQy") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee ."&shop_domain=".$icae1003a7b78317ecd106d559490d2ed7842f01917d5d79435864186bbd31ed71a5dfa74d68c67d .base64_decode("JnBvY2V0a3JlZGl0PQ==").$i4df99316d961704cddd07807376211e0beb97d64 .base64_decode("JmVtYWlsPQ==").$iab7a33a49f2bfc6e28807ec8880b1061d592e624; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099==1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($i6e1d16d587c35e7b499da19509cf73267140be45 != 1) { $i6e1d16d587c35e7b499da19509cf73267140be45 = '0'; } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 || $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 5) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET deletedb='".$this->escape($i917148025609cbe0f0445ba9321628bba1aa325b)."', simulatesms='".$this->escape($ic60b91adb4543bf8dced9a68ff72d3b94499793d)."', deliveryemail='".$this->escape($iab7a33a49f2bfc6e28807ec8880b1061d592e624)."', pocetkredit='".$this->escape($i4df99316d961704cddd07807376211e0beb97d64)."', URLreports='".$this->escape($i6e1d16d587c35e7b499da19509cf73267140be45)."' WHERE ID=1"); $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing' "); if($ic204e41860786a562e4034aedbbf697d6acc2137 == 1) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings VALUES (NULL,'pref_billing','1')"); } } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 11) { $this->_confirmCode[] = v_adminsmsprofile_accountchanged2; $this->Execute("UPDATE ".DB_PREFIX."sp_smsuser SET deletedb='".$this->escape($i917148025609cbe0f0445ba9321628bba1aa325b)."', simulatesms='".$this->escape($ic60b91adb4543bf8dced9a68ff72d3b94499793d)."', deliveryemail='".$this->escape($iab7a33a49f2bfc6e28807ec8880b1061d592e624)."', pocetkredit='".$this->escape($i4df99316d961704cddd07807376211e0beb97d64)."', URLreports='0' WHERE ID=1"); $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing' "); if($ic204e41860786a562e4034aedbbf697d6acc2137 == 1) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings VALUES (NULL,'pref_billing','1')"); } } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_adminsmsprofile_error; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_errorCode[] = v_adminsmsprofile_changeaccounttext.$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3.v_adminsmsprofile_seeconds; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099==2) { $this->_errorCode[] = v_adminsmsprofile_cantconnect; $this->_error = true; return false; } $this->Execute("DELETE FROM ".DB_PREFIX."sp_settings WHERE name LIKE 'pref_billing'"); if($ic204e41860786a562e4034aedbbf697d6acc2137) { $this->Execute("INSERT INTO ".DB_PREFIX."sp_settings values (NULL,'pref_billing','1')"); } return true; } public function getCountryPriceList($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWRvc3Q=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee .base64_decode("JmFyZWE9").$i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 .base64_decode("JmN1cnJlbmN5PQ==").smscurrency; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 && strlen($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) > 5) { return $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_smswizard_error; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function getExceptions() { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPXNob3dleGM="); $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1) { $this->Execute("DELETE FROM `".DB_PREFIX."sp_exceptions`"); $ibc2fa36dbd6b936f71d62a75d147345bab9fb1e8 = explode(";", $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); foreach($ibc2fa36dbd6b936f71d62a75d147345bab9fb1e8 as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $i485c3e0e988a516337004a8a952ec9ca42a489c7 = explode(",", $i2e93e61d67c274d891066238c74ba6322d527b6d); $this->Execute("INSERT INTO `".DB_PREFIX."sp_exceptions` (`prefix`, `firstPrefix`, `length`, `trim`) VALUES ('".$this->escape($i485c3e0e988a516337004a8a952ec9ca42a489c7[0])."', '".$this->escape($i485c3e0e988a516337004a8a952ec9ca42a489c7[1])."', '".$this->escape($i485c3e0e988a516337004a8a952ec9ca42a489c7[2])."', '".$this->escape($i485c3e0e988a516337004a8a952ec9ca42a489c7[3])."')"); } return $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function validatePhoneNumber($i67ace73aba0e91a788e4174d28f4ac3cfa631140, $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078, $i82b103019f8b63abe35e23c8982897d7b3b13cd2) { $i8b1b2aa6fc1f23be64a3e593318b537234d68535 = $this->getGate($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078, $i82b103019f8b63abe35e23c8982897d7b3b13cd2); if(count($i8b1b2aa6fc1f23be64a3e593318b537234d68535) > 0) { $icf4196696eb5e7af1b3b77e5b0365b1a94c1e99a = base64_decode("JmlzbXM9").$i8b1b2aa6fc1f23be64a3e593318b537234d68535["isms"].base64_decode("JnNlbmRlcj0=").$i8b1b2aa6fc1f23be64a3e593318b537234d68535["senderID"]; $i1a81b7d4fe83c341f114bd605cdea57b8db9ee6f = $i8b1b2aa6fc1f23be64a3e593318b537234d68535["senderID"]; } else { $icf4196696eb5e7af1b3b77e5b0365b1a94c1e99a = ""; } $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWNoZWNrc2VuZGVySUQ=") ."&text_sms=".v_smswizard_confirmationcode .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee .base64_decode("JnNlbmRlcklEPQ==").$i67ace73aba0e91a788e4174d28f4ac3cfa631140 .$icf4196696eb5e7af1b3b77e5b0365b1a94c1e99a; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099==1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 || $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 11) { if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1) { $this->_confirmCode[] = v_smswizard_retypecode; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 11) { $this->_confirmCode[] = v_smswizard_retypecode2; } $i3da7d27ed65066b98b003daf0808f54e53cda923 = explode("__",$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); $ie68cd676eebd298765c31b15dffbf546a21ac515 = new SmsHistoryLogger($this->db); $ie68cd676eebd298765c31b15dffbf546a21ac515 ->number($i67ace73aba0e91a788e4174d28f4ac3cfa631140) ->text(v_smswizard_smsvalidation) ->status(SmsModel::STATUS_SENT) ->price($i3da7d27ed65066b98b003daf0808f54e53cda923[1]) ->credit($i3da7d27ed65066b98b003daf0808f54e53cda923[2]) ->type(SmsModel::TYPE_ADMIN) ->sender($i1a81b7d4fe83c341f114bd605cdea57b8db9ee6f) ->subject(v_smswizard_smsvalidation) ->smsID($i3da7d27ed65066b98b003daf0808f54e53cda923[0]) ->total(1) ->save(); $this->_error = true; return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 111) { return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 9) { $this->_errors[] = v_smswizard_wrongnrerror; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 15) { $this->_errors[] = v_smswizard_unauthorizederror; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3 && $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 == 10) { $this->_errors[] = v_smswizard_lowcrediterror; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errors[] = v_smswizard_error2.$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_errors[] = v_smswizard_loginerror; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errors[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function validatePhoneNumberCode($i9bfbaadc2ceaa3ef639ac702bf4d66b7926594cf, $i67ace73aba0e91a788e4174d28f4ac3cfa631140) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWNoZWNrc2VuZGVySURjb2Rl") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee .base64_decode("JmNvZGU9").$i9bfbaadc2ceaa3ef639ac702bf4d66b7926594cf .base64_decode("JnNlbmRlcklEPQ==").$i67ace73aba0e91a788e4174d28f4ac3cfa631140; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099==1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1) { return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errorCode[] = v_smswizard_error2.$ib2bdeb39d0b431e06e364d808d2f32fddee67ca3; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 4) { $this->_errorCode[] = v_smswizard_loginerror; $this->_error = true; return false; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 5) { $this->_errorCode[] = v_smswizard_confirmcode; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errorCode[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function refreshPriceList($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23) { $ib1199182837e705aae8d93f525c88b1184f9395d = base64_decode("YWN0aW9uPWRvc3Q=") .base64_decode("JnVzZXJuYW1lPQ==").$this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 .base64_decode("JnBhc3N3b3JkPQ==").$this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee .base64_decode("JmFyZWE9").$ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23 .base64_decode("JmN1cnJlbmN5PQ==").smscurrency; $this->v2d9567d55240c61334dfc86a77223e74a4f98099 = $this->ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d); if($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 1) { if(preg_match(DcDeR, $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86, $ie733bb3ef6f56823174104908b6a40741e545ae7)) { $ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 1); $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3 = self::issetInArray($ie733bb3ef6f56823174104908b6a40741e545ae7, 2); } if($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 1 && strlen($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) > 5) { $this->Execute("UPDATE ".DB_PREFIX."sp_routes SET info='".$this->escape($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3)."' where area='".$this->escape($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23)."'"); return true; } elseif($ia833016dbcc20c82bf9afc214a12a4fc9c38afa0 == 3) { $this->_errors[] = v_smswizard_error; $this->_error = true; return false; } } elseif($this->v2d9567d55240c61334dfc86a77223e74a4f98099 == 2) { $this->_errors[] = v_smswizard_cantconnect; $this->_error = true; return false; } } public function getGate($iac491b812545fde1f099a0b0190c34784fb42db3, $i82b103019f8b63abe35e23c8982897d7b3b13cd2) { $ib1199182837e705aae8d93f525c88b1184f9395d = array(); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_routes WHERE area='".$this->escape($iac491b812545fde1f099a0b0190c34784fb42db3)."' AND type='".$this->escape($i82b103019f8b63abe35e23c8982897d7b3b13cd2)."'"); if ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $ib1199182837e705aae8d93f525c88b1184f9395d['isms'] = $i2e93e61d67c274d891066238c74ba6322d527b6d['isms']; $ib1199182837e705aae8d93f525c88b1184f9395d['sendertype'] = $i2e93e61d67c274d891066238c74ba6322d527b6d['sendertype']; $ib1199182837e705aae8d93f525c88b1184f9395d['senderID'] = $i2e93e61d67c274d891066238c74ba6322d527b6d['senderID']; } } return $ib1199182837e705aae8d93f525c88b1184f9395d; } private function ffaeb0ccb54e0b52797a0261a45d6519e1485b367($ib1199182837e705aae8d93f525c88b1184f9395d) { $ib1199182837e705aae8d93f525c88b1184f9395d .= base64_decode("JkFwcElEPQ==").SMS_PREFIX.$this->vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b.base64_decode("JnZlcnNpb249").SMS_OC_VERSION; $i02fcabda2448d40bdb76bd10f9e95950039649ee = null; $i9d9b2d04f881b6ab0a9eb96514b14fafd581eabb = 80; $i6b15e48bd5d3cae2c16609e41d164bb32367d615 = 443; $i92a53dd1338db0cb948803e85318a8a1d8fe77a0 = base64_decode("c21zbWlkbGV0LmNvbQ=="); $i70eea628bc45cda1baad0a38531a2081001620ed = 5; if(SMS_SSL_ENABLE) { $i6d8b0018008871b889ce3ba6019071cfe626589f=$i6b15e48bd5d3cae2c16609e41d164bb32367d615; $iba1b8602863125b9571dec6e9b04c2de51e4482f = "ssl://".$i92a53dd1338db0cb948803e85318a8a1d8fe77a0; } else { $iba1b8602863125b9571dec6e9b04c2de51e4482f = $i92a53dd1338db0cb948803e85318a8a1d8fe77a0; $i6d8b0018008871b889ce3ba6019071cfe626589f=$i9d9b2d04f881b6ab0a9eb96514b14fafd581eabb; } $i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8 = @fsockopen($iba1b8602863125b9571dec6e9b04c2de51e4482f, $i6d8b0018008871b889ce3ba6019071cfe626589f, $i956b6ae49ea06ccbeb7a017faec7c1124a7ce01f, $id6384b226291ca94ed08d68c12461c2f5d875768, $i70eea628bc45cda1baad0a38531a2081001620ed); if(!$i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8) { $i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8 = fsockopen($i92a53dd1338db0cb948803e85318a8a1d8fe77a0, $i9d9b2d04f881b6ab0a9eb96514b14fafd581eabb, $i956b6ae49ea06ccbeb7a017faec7c1124a7ce01f, $id6384b226291ca94ed08d68c12461c2f5d875768, $i70eea628bc45cda1baad0a38531a2081001620ed); if(!$i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8) { $i16782db4b296ee371d7350ff1466c8c10eda37bc = curl_init('http://'.$i92a53dd1338db0cb948803e85318a8a1d8fe77a0.SMS_API); if(!$i16782db4b296ee371d7350ff1466c8c10eda37bc) { return 2; } else { curl_setopt($i16782db4b296ee371d7350ff1466c8c10eda37bc, CURLOPT_POST ,1); curl_setopt($i16782db4b296ee371d7350ff1466c8c10eda37bc, CURLOPT_POSTFIELDS ,$ib1199182837e705aae8d93f525c88b1184f9395d); curl_setopt($i16782db4b296ee371d7350ff1466c8c10eda37bc, CURLOPT_FOLLOWLOCATION ,1); curl_setopt($i16782db4b296ee371d7350ff1466c8c10eda37bc, CURLOPT_HEADER ,0); curl_setopt($i16782db4b296ee371d7350ff1466c8c10eda37bc, CURLOPT_RETURNTRANSFER ,1); $ic1893767956cd01fb285c88d212396b0a17ed24c = curl_exec($i16782db4b296ee371d7350ff1466c8c10eda37bc); $i4a3baf22dc08175172ff4d172f67ac9a1a1014b2 = html_entity_decode($ic1893767956cd01fb285c88d212396b0a17ed24c); curl_close($i16782db4b296ee371d7350ff1466c8c10eda37bc); $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86 = $i4a3baf22dc08175172ff4d172f67ac9a1a1014b2; return 1; } } else { fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "POST ".SMS_API." HTTP/1.0\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "User-Agent: Mozilla/4.0\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Host: ".$i92a53dd1338db0cb948803e85318a8a1d8fe77a0."\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Content-type: application/x-www-form-urlencoded; charset=utf-8\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Content-length: ".strlen ($ib1199182837e705aae8d93f525c88b1184f9395d)."\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "\r\n".$ib1199182837e705aae8d93f525c88b1184f9395d."\r\n"); while (!feof($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8)) { $i9eb1433c7bcfc4819ef79035c9bc618729d7021f= fgets ($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, 30000); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $i9eb1433c7bcfc4819ef79035c9bc618729d7021f; } $iedf5f2aac3394f5ed8c09e295a7cece3aeb4a0ed = fclose($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8); $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86 = $i02fcabda2448d40bdb76bd10f9e95950039649ee; return 1; } } else { fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "POST ".SMS_API." HTTP/1.0\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "User-Agent: Mozilla/4.0\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Host: ".$i92a53dd1338db0cb948803e85318a8a1d8fe77a0."\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Content-type: application/x-www-form-urlencoded; charset=utf-8\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "Content-length: ".strlen ($ib1199182837e705aae8d93f525c88b1184f9395d)."\r\n"); fwrite($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, "\r\n".$ib1199182837e705aae8d93f525c88b1184f9395d."\r\n"); while (!feof($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8)) { $i9eb1433c7bcfc4819ef79035c9bc618729d7021f= fgets ($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8, 30000); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $i9eb1433c7bcfc4819ef79035c9bc618729d7021f; } $iedf5f2aac3394f5ed8c09e295a7cece3aeb4a0ed = fclose($i598193ae0c525d9ecf5f7df02afbb6d785b7a5f8); $this->v6806dac0aeb70bc25c7cf0fb0af43d2990b02e86 = $i02fcabda2448d40bdb76bd10f9e95950039649ee; return 1; } } } final class PhoneNumber extends SmsAdapter { public $mobile; public $text; public $isms; public $TYPEsender; public $IDsender; public $customerid = 0; public $adminid = 0; public $countryid = null; public $city = ""; public $type; public $area; public function __construct($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7, $if9d70e6263a5374064533b7bc8485f2b3ec26e22, $i82b103019f8b63abe35e23c8982897d7b3b13cd2 = SmsModel::SMS_CTYPE_CUSTOMER, $i8dc44f039651a6c5a9e61ca7d61ed633339cfbf7 = 0, $i29d8bfc0942335bbc5bc5b815a7c2bae0ddf6a9e = 0, $if77bb16e94f83d0bb0550053fb257a258ae9eded = null, $i634b769b00beade320ed6e293c99de7ffda049b5 = "", $ie32585eb1b56e8e02465722681ae17f4122f4b7d = "") { $this->setDb($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7); $this->type = $i82b103019f8b63abe35e23c8982897d7b3b13cd2; $this->IDcustomer = $i8dc44f039651a6c5a9e61ca7d61ed633339cfbf7; $this->IDadmin = $i29d8bfc0942335bbc5bc5b815a7c2bae0ddf6a9e; $this->countryid = $if77bb16e94f83d0bb0550053fb257a258ae9eded; $this->city = $i634b769b00beade320ed6e293c99de7ffda049b5; $this->text = $ie32585eb1b56e8e02465722681ae17f4122f4b7d; if(!SMS_STATIC_PREFIX_ENABLE) { if($this->countryid != null) { if(strtolower($this->city)=="indonesia") { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = 62; } else { if(method_exists($this, "getPrefix")) { $i2bb90846091f7f6d3cad948afcef72c09ab0a601 = $this->getPrefix(); if(isset($i2bb90846091f7f6d3cad948afcef72c09ab0a601[$this->countryid])) { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = $i2bb90846091f7f6d3cad948afcef72c09ab0a601[$this->countryid]; } else { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = $this->getDefaultPrefix(); } } else { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = $this->getDefaultPrefix(); } } } else { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = $this->getDefaultPrefix(); } } else { $i86c5ec43545dd5135f3f03db919a6c017e470d19 = SMS_STATIC_PREFIX; } $this->f898e0193900ef7df81853e0103a1944ca93a399c($if9d70e6263a5374064533b7bc8485f2b3ec26e22, $i86c5ec43545dd5135f3f03db919a6c017e470d19, $i82b103019f8b63abe35e23c8982897d7b3b13cd2); } public function getArea() { return $this->area; } private function f767e919ae1a763a4e5056f77dfb10d90fe264a8a($if9d70e6263a5374064533b7bc8485f2b3ec26e22) { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = preg_replace(array("/ /", "/-/", "/\(/", "/\)/", "/\./", "/\//", "/\\\/"), array("", "", "", "", "", "", ""), trim($if9d70e6263a5374064533b7bc8485f2b3ec26e22)); if( substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22,0,2)=="00" ) { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22,2,strlen($if9d70e6263a5374064533b7bc8485f2b3ec26e22)); } elseif( substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22,0,1)=="+" ) { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22,1,strlen($if9d70e6263a5374064533b7bc8485f2b3ec26e22)); } return $if9d70e6263a5374064533b7bc8485f2b3ec26e22; } private function f898e0193900ef7df81853e0103a1944ca93a399c($if9d70e6263a5374064533b7bc8485f2b3ec26e22, $i86c5ec43545dd5135f3f03db919a6c017e470d19 = null, $i82b103019f8b63abe35e23c8982897d7b3b13cd2 = SmsModel::SMS_CTYPE_CUSTOMER) { $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23 = ""; $ib741d743be2ab36323bf4d0de0f5e72a7a99ff16 = false; if(!self::isPhoneNumber($if9d70e6263a5374064533b7bc8485f2b3ec26e22)) { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = $this->f767e919ae1a763a4e5056f77dfb10d90fe264a8a($if9d70e6263a5374064533b7bc8485f2b3ec26e22); } $ieac18787b5c051f509471e0181847b7187a5f154 = strlen($if9d70e6263a5374064533b7bc8485f2b3ec26e22); foreach (SmsVariables::$maps as $i2e93e61d67c274d891066238c74ba6322d527b6d) { if( preg_match("/^".$i2e93e61d67c274d891066238c74ba6322d527b6d["area"]."/",$if9d70e6263a5374064533b7bc8485f2b3ec26e22, $i8a85f5802516511868cf8710403a5a75c6080097) ) { $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23=substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22, 0, strlen($i2e93e61d67c274d891066238c74ba6322d527b6d["area"])); if(($ieac18787b5c051f509471e0181847b7187a5f154 - strlen($i2e93e61d67c274d891066238c74ba6322d527b6d["area"])) == $i2e93e61d67c274d891066238c74ba6322d527b6d["number"]) { $ib741d743be2ab36323bf4d0de0f5e72a7a99ff16 = true; } } } if($i86c5ec43545dd5135f3f03db919a6c017e470d19 == null && $ib741d743be2ab36323bf4d0de0f5e72a7a99ff16 == false) { $this->mobile = $if9d70e6263a5374064533b7bc8485f2b3ec26e22; return false; } else { if($i86c5ec43545dd5135f3f03db919a6c017e470d19 != null) { $if51292a7f012392f4229db0a9045718cdda18eba = substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22,0,2); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM `".DB_PREFIX."sp_exceptions` WHERE `prefix` = '".$this->escape($i86c5ec43545dd5135f3f03db919a6c017e470d19)."' AND `firstPrefix` = '".$this->escape($if51292a7f012392f4229db0a9045718cdda18eba)."' AND `length` = '".$this->escape($ieac18787b5c051f509471e0181847b7187a5f154)."';"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $ibc6efd7f1f79d18574eb6092b2ab3de45eaa1d81 = 1; $if9fd941302f26797a26145ce8eae92c9952ed710 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row["trim"]; } else { $ibc6efd7f1f79d18574eb6092b2ab3de45eaa1d81 = 0; $if9fd941302f26797a26145ce8eae92c9952ed710 = ""; } if($ibc6efd7f1f79d18574eb6092b2ab3de45eaa1d81 == 1) { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = $i86c5ec43545dd5135f3f03db919a6c017e470d19.substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22, $if9fd941302f26797a26145ce8eae92c9952ed710, strlen($if9d70e6263a5374064533b7bc8485f2b3ec26e22)); $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23 = $i86c5ec43545dd5135f3f03db919a6c017e470d19; } elseif($ib741d743be2ab36323bf4d0de0f5e72a7a99ff16 == false) { if(substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22, 0, 1) == "0") { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = $i86c5ec43545dd5135f3f03db919a6c017e470d19.substr($if9d70e6263a5374064533b7bc8485f2b3ec26e22, 1, strlen($if9d70e6263a5374064533b7bc8485f2b3ec26e22)); } else { $if9d70e6263a5374064533b7bc8485f2b3ec26e22 = $i86c5ec43545dd5135f3f03db919a6c017e470d19.$if9d70e6263a5374064533b7bc8485f2b3ec26e22; } $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23 = $i86c5ec43545dd5135f3f03db919a6c017e470d19; } } $this->mobile = $if9d70e6263a5374064533b7bc8485f2b3ec26e22; $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_routes WHERE area='".$this->escape($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23)."' AND type LIKE '".$this->escape($i82b103019f8b63abe35e23c8982897d7b3b13cd2)."' "); if ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $this->isms = $i2e93e61d67c274d891066238c74ba6322d527b6d['isms']; $this->TYPEsender = $i2e93e61d67c274d891066238c74ba6322d527b6d['sendertype']; $this->IDsender = $i2e93e61d67c274d891066238c74ba6322d527b6d['senderID']; } } $this->area = $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23; return true; } } public static function isPhoneNumber($i04a14a27ef4ebf96003e6cc8ddba71b44706d519) { return preg_match('/^[0-9]{7,18}$/', trim($i04a14a27ef4ebf96003e6cc8ddba71b44706d519)); } } final class SmsModel extends SmsC { const TYPE_ADMIN = 1; const TYPE_CUSTOMERS = 2; const TYPE_MARKETING = 3; const TYPE_SIMPLE = 4; const STATUS_SENT = 1; const STATUS_ERROR = 2; const STATUS_DELIVERED = 3; const STATUS_BUFFERED = 4; const STATUS_SIMULATION = 5; const STATUS_SHEDULED = 6; const STATUS_DELETED = 7; const STATUS_DND = 8; const STATUS_DUPLICATE = 9; const NO_CUSTOMER = 0; const NO_ADMIN = 0; const NO_COUNTRY = 0; const NO_CITY = ""; const SMS_CTYPE_CUSTOMER = "customer"; const SMS_CTYPE_CADMIN = "admin"; const DELIMITER = ","; const NUMBER_MOBILE = "mobile"; const NUMBER_CUSTOMER = "customerid"; const NUMBER_ADMIN = "adminid"; const NUMBER_COUNTRY = "countryid"; const NUMBER_CITY = "city"; const NUMBER_TEXT = "text"; const NUMBER_STORE = "store"; const TEXT_APPEND = true; const TEXT_REPLACE = false; const SMS_BULK = 1; const SMS_TRANSACTION = 2; const SMS_BULK_DTEXT = 3; protected $phoneNumbers = array(); protected $text = ""; protected $unicode = false; protected $unique = false; protected $type; protected $typeSms; protected $sendLater = false; protected $laterDate = null; protected $bulkType = self::SMS_BULK; protected $recipient = ""; protected $subject = ""; protected $smsLength; protected $countSms = 0; protected $user = null; protected $_confirmCode = array(); protected $_error = false; protected $_errorCode = array(); public function __construct($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7, $i90bae4d67448d4dcc64564d947c1eb0082fc3557 = self::TYPE_SIMPLE, $i82b103019f8b63abe35e23c8982897d7b3b13cd2 = self::SMS_CTYPE_CUSTOMER, $i7de6b031ac0862a316e4b364fe783f9a5466876c = self::SMS_BULK, $i8095598e75aa0d17622b51f9b7beb10357fca949 = null) { $this->setDb($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7); if($i8095598e75aa0d17622b51f9b7beb10357fca949 == null) { $this->user = new UserProfile($this->db); } else { if(is_object($i8095598e75aa0d17622b51f9b7beb10357fca949) && get_class($i8095598e75aa0d17622b51f9b7beb10357fca949) == "UserProfile") { $this->user = $i8095598e75aa0d17622b51f9b7beb10357fca949; } else { $this->_error = true; return false; } } parent::__construct($this->user->getAppId(), $this->user->getUsername(), $this->user->getPassword(), $this->user->getSimulate()); if($i82b103019f8b63abe35e23c8982897d7b3b13cd2 == self::SMS_CTYPE_CUSTOMER) { $this->type = self::SMS_CTYPE_CUSTOMER; } else { $this->type = self::SMS_CTYPE_CADMIN; } $this->bulkType = $i7de6b031ac0862a316e4b364fe783f9a5466876c; $this->typeSms = $i90bae4d67448d4dcc64564d947c1eb0082fc3557; } public function number($i6de5513d7bf66573dedf3f2f853ce5457a8f957f, $i409078f7de9576508132c229aa3c6fd212dd2e2d = self::NO_CUSTOMER, $ic812a33236f7f483dbd34d4c14773cb484311683 = self::NO_ADMIN, $if77bb16e94f83d0bb0550053fb257a258ae9eded = self::NO_COUNTRY, $i634b769b00beade320ed6e293c99de7ffda049b5 = self::NO_CITY, $i4e98c4f6d7ed66e93f2d9210834d244d05302165 = self::DELIMITER) { if($this->bulkType == self::SMS_TRANSACTION) { if(self::isPhoneNumber(self::deletePlusFromNumber($i6de5513d7bf66573dedf3f2f853ce5457a8f957f))) { unset($this->phoneNumbers); $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i6de5513d7bf66573dedf3f2f853ce5457a8f957f), $this->type, $i409078f7de9576508132c229aa3c6fd212dd2e2d, $ic812a33236f7f483dbd34d4c14773cb484311683, $if77bb16e94f83d0bb0550053fb257a258ae9eded, $i634b769b00beade320ed6e293c99de7ffda049b5); } } else { if(is_array($i6de5513d7bf66573dedf3f2f853ce5457a8f957f)) { foreach($i6de5513d7bf66573dedf3f2f853ce5457a8f957f as $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) { if(is_array($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) && isset($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_MOBILE])) { if(self::isPhoneNumber(self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_MOBILE]))) { if(!isset($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CUSTOMER])) { $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CUSTOMER] = self::NO_CUSTOMER; } if(!isset($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_ADMIN])) { $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_ADMIN] = self::NO_ADMIN; } if(!isset($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_COUNTRY])) { $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_COUNTRY] = self::NO_COUNTRY; } if(!isset($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CITY])) { $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CITY] = self::NO_CITY; } $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_MOBILE]), $this->type, $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CUSTOMER], $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_ADMIN], $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_COUNTRY], $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_CITY], $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69[self::NUMBER_TEXT]); } } elseif(self::isPhoneNumber(self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69), $this->type); } } } else { if(self::isPhoneNumber(self::deletePlusFromNumber($i6de5513d7bf66573dedf3f2f853ce5457a8f957f))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i6de5513d7bf66573dedf3f2f853ce5457a8f957f), $this->type, $i409078f7de9576508132c229aa3c6fd212dd2e2d, $ic812a33236f7f483dbd34d4c14773cb484311683, $if77bb16e94f83d0bb0550053fb257a258ae9eded, $i634b769b00beade320ed6e293c99de7ffda049b5); } else { if($i4e98c4f6d7ed66e93f2d9210834d244d05302165 == null) { $i4e98c4f6d7ed66e93f2d9210834d244d05302165 = self::DELIMITER; } $i9d25d63b084741b66fc91ec7fe891607f034d10c = explode($i4e98c4f6d7ed66e93f2d9210834d244d05302165, $i6de5513d7bf66573dedf3f2f853ce5457a8f957f); foreach($i9d25d63b084741b66fc91ec7fe891607f034d10c as $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) { if(self::isPhoneNumber(self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69))) { $this->phoneNumbers[] = new PhoneNumber($this->db, self::deletePlusFromNumber($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69), $this->type); } } } } } return $this; } public function recipient($ia95f417022e395feb48959137203c276c5c4b322) { $this->recipient = $ia95f417022e395feb48959137203c276c5c4b322; return $this; } public function subject($i9a131e9b5ab7532c73808230c425d8f63822c781) { $this->subject = $i9a131e9b5ab7532c73808230c425d8f63822c781; return $this; } public function text($ie32585eb1b56e8e02465722681ae17f4122f4b7d, $i39a401dbfd82dd2ac2fe7a767f8afd6479d0eeed = self::TEXT_REPLACE) { if($i39a401dbfd82dd2ac2fe7a767f8afd6479d0eeed) { $this->text .= $ie32585eb1b56e8e02465722681ae17f4122f4b7d; } else { $this->text = $ie32585eb1b56e8e02465722681ae17f4122f4b7d; } $this->f3805f810a5d87839d3db7610b306825b5d7990a5(); return $this; } public function unicode($i6c08bf61f437a7df1241311fb1b61cb26dfddd64 = true) { if($i6c08bf61f437a7df1241311fb1b61cb26dfddd64) { $this->unicode = true; } else { $this->unicode = false; } $this->f3805f810a5d87839d3db7610b306825b5d7990a5(); return $this; } public function sendLater($ie5b0dc673ae7185f8cfea133baf9fef6a88b3281) { if(($this->bulkType == SmsModel::SMS_BULK || $this->bulkType == SmsModel::SMS_BULK_DTEXT) && $ie5b0dc673ae7185f8cfea133baf9fef6a88b3281 && $ie5b0dc673ae7185f8cfea133baf9fef6a88b3281 instanceof DateTime) { $this->laterDate = $ie5b0dc673ae7185f8cfea133baf9fef6a88b3281; $this->sendLater = true; } else { $this->sendLater = false; } return $this; } public function unique($ib60aacf907e26fcd4e5091fb981d81cb096eec61 = true) { if($ib60aacf907e26fcd4e5091fb981d81cb096eec61) { $this->unique = true; } else { $this->unique = false; } return $this; } public function send($i3805f810a5d87839d3db7610b306825b5d7990a5 = SMS_BULK_COUNT) { $this->fb85e58bbbf86147dabe4ab9cac8bb423b1fef3b9(); $this->fd1a9d2873d1a3ef5739ca39c898ee0f663d752dd(); if($this->_error) { return false; } $this->sendSmsAll($i3805f810a5d87839d3db7610b306825b5d7990a5); } public function getAreas() { $ib1199182837e705aae8d93f525c88b1184f9395d = array(); foreach($this->phoneNumbers as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $i6de5513d7bf66573dedf3f2f853ce5457a8f957f) { $ib1199182837e705aae8d93f525c88b1184f9395d[$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->getArea(); } return $ib1199182837e705aae8d93f525c88b1184f9395d; } public function isError() { return $this->_error; } public function getErrors() { return $this->_errorCode; } public function getConfirm() { return $this->_confirmCode; } private function f3805f810a5d87839d3db7610b306825b5d7990a5() { $ie32585eb1b56e8e02465722681ae17f4122f4b7d = str_replace("\r\n","\n", $this->text); $this->smsLength = mb_strlen($ie32585eb1b56e8e02465722681ae17f4122f4b7d, "UTF-8"); if($this->unicode == false) { if($this->smsLength < 161) { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = 1; } elseif($this->smsLength % 153 == 0) { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($this->smsLength / 153)); } else { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($this->smsLength / 153) + 1); } } elseif($this->unicode == true) { if($this->smsLength<71) { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = 1; } elseif($this->smsLength % 67 == 0) { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($this->smsLength / 67)); } else { $this->f3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($this->smsLength / 67) + 1); } } return $this->f3805f810a5d87839d3db7610b306825b5d7990a5; } public function smsCounterIn($ie32585eb1b56e8e02465722681ae17f4122f4b7d) { $i3805f810a5d87839d3db7610b306825b5d7990a5 = 0; $ie32585eb1b56e8e02465722681ae17f4122f4b7d = str_replace("\r\n","\n", $ie32585eb1b56e8e02465722681ae17f4122f4b7d); $ic190e07722ace880a486e71bc6ad92bfa8635478 = mb_strlen($ie32585eb1b56e8e02465722681ae17f4122f4b7d, "UTF-8"); if($this->unicode == false) { if($ic190e07722ace880a486e71bc6ad92bfa8635478 < 161) { $i3805f810a5d87839d3db7610b306825b5d7990a5 = 1; } elseif($ic190e07722ace880a486e71bc6ad92bfa8635478 % 153 == 0) { $i3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($ic190e07722ace880a486e71bc6ad92bfa8635478 / 153)); } else { $i3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($ic190e07722ace880a486e71bc6ad92bfa8635478 / 153) + 1); } } elseif($this->unicode == true) { if($ic190e07722ace880a486e71bc6ad92bfa8635478 < 71) { $i3805f810a5d87839d3db7610b306825b5d7990a5 = 1; } elseif($ic190e07722ace880a486e71bc6ad92bfa8635478 % 67 == 0) { $i3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($ic190e07722ace880a486e71bc6ad92bfa8635478 / 67)); } else { $i3805f810a5d87839d3db7610b306825b5d7990a5 = (floor($ic190e07722ace880a486e71bc6ad92bfa8635478 / 67) + 1); } } return $i3805f810a5d87839d3db7610b306825b5d7990a5; } private static function isPhoneNumber($i04a14a27ef4ebf96003e6cc8ddba71b44706d519) { return preg_match('/^[0-9]{7,18}$/', trim($i04a14a27ef4ebf96003e6cc8ddba71b44706d519)); } private static function deletePlusFromNumber($i04a14a27ef4ebf96003e6cc8ddba71b44706d519) { $i04a14a27ef4ebf96003e6cc8ddba71b44706d519 = preg_replace(array("/ /", "/-/", "/\(/", "/\)/", "/\./", "/\//", "/\\\/"), array("", "", "", "", "", "", ""), trim($i04a14a27ef4ebf96003e6cc8ddba71b44706d519)); if(substr($i04a14a27ef4ebf96003e6cc8ddba71b44706d519, 0, 2) == "00") { $i04a14a27ef4ebf96003e6cc8ddba71b44706d519 = substr($i04a14a27ef4ebf96003e6cc8ddba71b44706d519,2,strlen($i04a14a27ef4ebf96003e6cc8ddba71b44706d519)); } elseif(substr($i04a14a27ef4ebf96003e6cc8ddba71b44706d519, 0, 1) == "+") { $i04a14a27ef4ebf96003e6cc8ddba71b44706d519 = substr($i04a14a27ef4ebf96003e6cc8ddba71b44706d519,1,strlen($i04a14a27ef4ebf96003e6cc8ddba71b44706d519)); } return $i04a14a27ef4ebf96003e6cc8ddba71b44706d519; } public function getNumber($i893b0ce6c5e5a26144f9a767ada7fa7e94c0cc2b = 0) { return $this->phoneNumbers[$i893b0ce6c5e5a26144f9a767ada7fa7e94c0cc2b]->mobile; } private function fd1a9d2873d1a3ef5739ca39c898ee0f663d752dd() { $i91848938b1e16f2d27450c85229ea312fd767219 = array(); if($this->unique){ foreach($this->phoneNumbers as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $i6de5513d7bf66573dedf3f2f853ce5457a8f957f) { if(in_array($i6de5513d7bf66573dedf3f2f853ce5457a8f957f->mobile, $i91848938b1e16f2d27450c85229ea312fd767219)) { unset($this->phoneNumbers[$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]); } else { $i91848938b1e16f2d27450c85229ea312fd767219[] = $i6de5513d7bf66573dedf3f2f853ce5457a8f957f->mobile; } } } unset($i91848938b1e16f2d27450c85229ea312fd767219); return; } private function fb85e58bbbf86147dabe4ab9cac8bb423b1fef3b9() { if (!strlen($this->text)>0){ $this->_errorCode[] = v_sendsms_fillsms; $this->_error = true; } if (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8") > 612 && $this->unicode == 0){ $this->_errorCode[] = v_sendsms_smslong; $this->_error = true; } if (mb_strlen( html_entity_decode($this->text, ENT_QUOTES, 'UTF-8'),"utf-8") > 268 && $this->unicode == 1){ $this->_errorCode[] = v_sendsms_unicodesmslong; $this->_error = true; } if (count($this->phoneNumbers)==0) { $this->_errorCode[] = v_sendsms_norecipients; $this->_error = true; } if ($this->user->getSimulate() == 0) { $i1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd = $this->GetSmsInfo(); if((count($this->phoneNumbers) * $this->f3805f810a5d87839d3db7610b306825b5d7990a5 * 0.01) > $i1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd[0]) { $this->_errorCode[] = v_sendsms_lowcreditall.count($this->phoneNumbers).v_sendsms_recipients; $this->_error = true; } } } } final class UserProfile extends SmsAdapter { private $v98414cde3d36661d1db1db7d00d0775fb8bc70f4; private $v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; private $vb941014a26975b5bf58e115f7c72dce610088678; private $v917148025609cbe0f0445ba9321628bba1aa325b; private $vab7a33a49f2bfc6e28807ec8880b1061d592e624; private $v1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd; private $vd14a75685397a37b96fb66447dbd9eb34917a494; private $vc204e41860786a562e4034aedbbf697d6acc2137; private $vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b; private $v5071ce49aa74dec77b6a05acd8c726411c9543d8 = array(); public function __construct($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7) { $this->setDb($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7); $this->f95d22e048da20f7048cdb752c70dd038f19b03a0(); } private function f95d22e048da20f7048cdb752c70dd038f19b03a0($icae1003a7b78317ecd106d559490d2ed7842f019 = 1) { $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_smsuser where ID=".$this->escape($icae1003a7b78317ecd106d559490d2ed7842f019)); if ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['user'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['user']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['passwd'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['passwd']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['email'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['email']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['companyname'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['companyname']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['addressstreet'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['addressstreet']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['addresscity'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['addresscity']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['addresszip'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['addresszip']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['country0'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['country0']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['companyid'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['companyid']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['companyvat'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['companyvat']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['deletedb'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['deletedb']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['simulatesms'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['simulatesms']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['kosoba'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['kosoba']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['kprijmeni'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['kprijmeni']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['deliveryemail'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['deliveryemail']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['pocetkredit'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['pocetkredit']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['URLreports'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['URLreports']; $this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['user']; $this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['passwd']; $this->vb941014a26975b5bf58e115f7c72dce610088678 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['simulatesms']; $this->v917148025609cbe0f0445ba9321628bba1aa325b = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['deletedb']; $this->vab7a33a49f2bfc6e28807ec8880b1061d592e624 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['deliveryemail']; $this->v1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['pocetkredit']; $this->vd14a75685397a37b96fb66447dbd9eb34917a494 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe['URLreports']; } $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_settings WHERE name = 'pref_billing'"); if ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $this->vc204e41860786a562e4034aedbbf697d6acc2137 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row['value']; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['pref_billing'] = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row['value']; } else { $this->vc204e41860786a562e4034aedbbf697d6acc2137 = 0; $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8['pref_billing'] = 0; } $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM ".DB_PREFIX."sp_settings WHERE name = 'AppID'"); if ($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $this->vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row['value']; } } public function getUsername() { return $this->v98414cde3d36661d1db1db7d00d0775fb8bc70f4; } public function getPassword() { return $this->v3ff2121cdd24d8a29bd493b1737bdc8f0536f2ee; } public function getProfile() { return $this->v5071ce49aa74dec77b6a05acd8c726411c9543d8; } public function getAppId() { return $this->vdbab7827c872e4433d9fa75bd1cc8e58a2f45e5b; } public function getSimulate() { return $this->vb941014a26975b5bf58e115f7c72dce610088678; } public function getDeleteDb() { return $this->v917148025609cbe0f0445ba9321628bba1aa325b; } } final class SmsHistoryLogger extends SmsAdapter { private $v6de5513d7bf66573dedf3f2f853ce5457a8f957f = ""; private $vfe5dcc4866b634771ff6e888ca85e32e7f4e8fac = ""; private $v4786607b2e7dfa9462edea09fe32c7ff3fc405e8; private $v3da7d27ed65066b98b003daf0808f54e53cda923 = 0; private $v1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd = 0; private $v6a2b7e00a14bce430bfd30b157f16415081ad5f2 = ""; private $i6c08bf61f437a7df1241311fb1b61cb26dfddd64 = 0; private $i82b103019f8b63abe35e23c8982897d7b3b13cd2 = 0; private $v16655cc29679d1cb09236f1a3f332189df0781f7 = ""; private $v3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = ""; private $v4f9139981785201f313a216312b5d0ef7e64e542 = 0; private $vc812a33236f7f483dbd34d4c14773cb484311683 = 0; private $v409078f7de9576508132c229aa3c6fd212dd2e2d = 0; private $ia95f417022e395feb48959137203c276c5c4b322 = ""; private $i9a131e9b5ab7532c73808230c425d8f63822c781 = ""; public function __construct($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7) { $this->setDb($i7c476fcba547f89fec6ba2f04eb292f4e8da78e7); } public function number($ibd0578718e12a692b299a588249092e07aac601e) { $this->v6de5513d7bf66573dedf3f2f853ce5457a8f957f = "+".$ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function text($ibd0578718e12a692b299a588249092e07aac601e) { $this->vfe5dcc4866b634771ff6e888ca85e32e7f4e8fac = str_replace("%26", "&", $ibd0578718e12a692b299a588249092e07aac601e); return $this; } public function status($ibd0578718e12a692b299a588249092e07aac601e) { if($ibd0578718e12a692b299a588249092e07aac601e == NULL) { $ibd0578718e12a692b299a588249092e07aac601e = SmsModel::STATUS_ERROR; } else { $this->v4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = $ibd0578718e12a692b299a588249092e07aac601e; } return $this; } public function price($ibd0578718e12a692b299a588249092e07aac601e) { if($ibd0578718e12a692b299a588249092e07aac601e == NULL) { $ibd0578718e12a692b299a588249092e07aac601e = 0; } else { $this->v3da7d27ed65066b98b003daf0808f54e53cda923 = $ibd0578718e12a692b299a588249092e07aac601e; } return $this; } public function credit($ibd0578718e12a692b299a588249092e07aac601e) { if($ibd0578718e12a692b299a588249092e07aac601e == NULL) { $ibd0578718e12a692b299a588249092e07aac601e = 0; } else { $this->v1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd = $ibd0578718e12a692b299a588249092e07aac601e; } return $this; } public function sender($ibd0578718e12a692b299a588249092e07aac601e) { $this->v6a2b7e00a14bce430bfd30b157f16415081ad5f2 = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function unicode($ibd0578718e12a692b299a588249092e07aac601e) { $this->unicode = (int) $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function type($ibd0578718e12a692b299a588249092e07aac601e) { $this->type = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function smsid($ibd0578718e12a692b299a588249092e07aac601e) { $this->v16655cc29679d1cb09236f1a3f332189df0781f7 = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function note($ibd0578718e12a692b299a588249092e07aac601e) { $this->v3aa3b6bd09f39e42e2b394287f610dd81fcffa78 = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function total($ibd0578718e12a692b299a588249092e07aac601e) { $this->v4f9139981785201f313a216312b5d0ef7e64e542 = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function adminid($ibd0578718e12a692b299a588249092e07aac601e) { ((isset($ibd0578718e12a692b299a588249092e07aac601e))?$this->vc812a33236f7f483dbd34d4c14773cb484311683 = $ibd0578718e12a692b299a588249092e07aac601e:$this->vc812a33236f7f483dbd34d4c14773cb484311683 = 0); return $this; } public function customerid($ibd0578718e12a692b299a588249092e07aac601e) { ((isset($ibd0578718e12a692b299a588249092e07aac601e))?$this->v409078f7de9576508132c229aa3c6fd212dd2e2d = $ibd0578718e12a692b299a588249092e07aac601e:$this->v409078f7de9576508132c229aa3c6fd212dd2e2d = 0); return $this; } public function recipient($ibd0578718e12a692b299a588249092e07aac601e) { $this->recipient = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function subject($ibd0578718e12a692b299a588249092e07aac601e) { $this->subject = $ibd0578718e12a692b299a588249092e07aac601e; return $this; } public function save() { $ife90ec3ee83cd90f9098beed08a011650ddba7e7 = "INSERT INTO `".DB_PREFIX."sp_sms_history` " . "(`number`, `date`, `text`, `status`, `price`, `credit`, `sender`, `unicode`, `type`, `smsID`, `note`, `total`, `admin_ID`, `customer_ID`, `recipient`, `subject`) VALUES " . "(" . " '".$this->escape($this->v6de5513d7bf66573dedf3f2f853ce5457a8f957f)."', " . " NOW(), " . " '".$this->escape($this->vfe5dcc4866b634771ff6e888ca85e32e7f4e8fac)."', " . " '".$this->escape($this->v4786607b2e7dfa9462edea09fe32c7ff3fc405e8)."'," . " '".$this->escape($this->v3da7d27ed65066b98b003daf0808f54e53cda923)."'," . " '".$this->escape($this->v1ff7f6484ff1dd58ec11360fa5a74dbd9422dccd)."'," . " '".$this->escape($this->v6a2b7e00a14bce430bfd30b157f16415081ad5f2)."'," . " '".$this->escape($this->unicode)."'," . " '".$this->escape($this->type)."'," . " '".$this->escape($this->v16655cc29679d1cb09236f1a3f332189df0781f7)."'," . " '".$this->escape($this->v3aa3b6bd09f39e42e2b394287f610dd81fcffa78)."'," . " '".$this->escape($this->v4f9139981785201f313a216312b5d0ef7e64e542)."'," . " '".$this->escape($this->vc812a33236f7f483dbd34d4c14773cb484311683)."'," . " '".$this->escape($this->v409078f7de9576508132c229aa3c6fd212dd2e2d)."'," . " '".$this->escape($this->recipient)."'," . " '".$this->escape($this->subject)."'" . ")"; $this->Execute($ife90ec3ee83cd90f9098beed08a011650ddba7e7); return true; } } 