<?php define("SMS_CONTROLER_URL", DIR_APPLICATION . 'model/sms/'); require_once (defined("SMS_CONTROLER_URL")?SMS_CONTROLER_URL:"") .'smsController.php'; class ControllerSmsCustomer extends SmsController { public $res_hooks = null; public $res_groups = null; public $res_hooks_info = null; public $res_hooks_template = null; public $res_hooks_notice = null; public $res_hooks_background = null; public $res_hooks_icon = null; public $js = ""; public $res_hooks_active = null; public $res_hooks_customer = null; public $use_unicode = 0; public $use_template = 0; public $use_template_name = ""; public $pol_templ = null; public $mutationColors = array(); public function index() { parent::index(); } public function display() { $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee = parent::display(); $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= " <script language=\"javascript\"> var minus = '" . self::$minusImg . "'; var plus = '" . self::$plusImg . "'; var chartext = '" . v_customersms_jschars . "'; var v_adminsms_preview = '" . v_customersms_preview . "'; var v_adminsms_jstotalsms = '" . v_customersms_jstotalsms . "'; function getTemplateValues(text) { " . $this->loadvariables() . " return text; } </script> "; $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= '<script type="text/javascript" src="' . DIR_SMS_JS . 'sms.js"></script>'; $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= '<script type="text/javascript" src="' . DIR_SMS_JS . 'jquery.at.caret.min.js"></script>'; $id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80 = $this->getLanguageMutation(); if(isset($_GET["mutation"])) { $this->use_template = htmlspecialchars($_GET["mutation"]); if(isset($id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80[$this->use_template])) { $this->use_template_name = $id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80[$this->use_template]; } else { $this->use_template_name = $this->use_template; } } if(!$this->use_template) { $this->use_template = SMS_DEFAULT_MUTATION; if(isset($id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80[SMS_DEFAULT_MUTATION])) { $this->use_template_name = $id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80[SMS_DEFAULT_MUTATION]; } else { $this->use_template_name = SMS_DEFAULT_MUTATION; } } $this->loadhooks(); $this->loadHooksForOrdersCustomers(); $this->loadHooksForReturnsCustomers(); $this->loadcustomerhooks($this->use_template); $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <h2>' . v_customersms_customersms . "<span style=\"font-weight:bold;color: ".self::$colors[$this->mutationColors[$this->use_template]]."\">" . $this->use_template_name . (($this->use_template_name == v_customersms_default) ? v_customersms_langversion : "") . '</span></h2> <p>' . v_customersms_description . '</p> '; $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->f3e50ce0c05388e3ae00ae4bebe6bb413cceb20e4(); $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->f71d392bfd520352a928ab9276d78a42fdc5415a7(); $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->f6a6916b02bcc0f6812dc1ce98f0ad5ff3ccb2394(); return $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee; } public function postProcess($if7ac7ffb0e11bffa95681698138e923b4fd51990 = NULL, $i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9 = NULL, $i4df8c509b6936a0640c1594ca9b38a0a55a9562f = NULL) { if($if7ac7ffb0e11bffa95681698138e923b4fd51990 == NULL && $i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9 == NULL) { return self::POST_ERROR; } if(isset($i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9['submitEditMutation'])) { $this->use_template = htmlentities($i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9['mutation'], ENT_COMPAT, 'UTF-8'); $this->use_template_name = $this->use_template; } if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitCustomerSMS'])) { $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['status'], ENT_COMPAT, 'UTF-8'); $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['name'], ENT_COMPAT, 'UTF-8'); $id960ddd9e843150fe4875c48e896395edac7ca1de32585eb1b56e8e02465722681ae17f4122f4b7d = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['text'], ENT_COMPAT, 'UTF-8'); if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['active'])) { $i7d81a14a5090d716f9bd101fd73660f7e203a168 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['active'], ENT_COMPAT, 'UTF-8'); } else { $i7d81a14a5090d716f9bd101fd73660f7e203a168 = 0; } $this->use_template_name = $this->use_template = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['use_template'], ENT_COMPAT, 'UTF-8'); if(!strlen($id960ddd9e843150fe4875c48e896395edac7ca1de32585eb1b56e8e02465722681ae17f4122f4b7d)) { $this->_errors[] = v_customersms_invalidtext; return self::POST_ERROR; } $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_customers WHERE name='" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03) . "' AND status='" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8) . "' AND mutation='" . $this->escape($this->use_template) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_hooks_customers VALUES ('" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03) . "','" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8) . "','" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1de32585eb1b56e8e02465722681ae17f4122f4b7d) . "','" . $this->escape($i7d81a14a5090d716f9bd101fd73660f7e203a168) . "','" . $this->escape($this->use_template) . "', 0)"); $this->displayConfirmation(v_customersms_smssaved); return self::POST_OK; } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitDeleteMutation_x'])) { if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['area'])) { $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['area'], ENT_COMPAT, 'UTF-8'); } $this->use_template = htmlentities($i4df8c509b6936a0640c1594ca9b38a0a55a9562f['use_template'], ENT_COMPAT, 'UTF-8'); $this->use_template_name = $this->use_template; $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_customers WHERE mutation='" . $this->escape($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23) . "'"); $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_templates WHERE area='" . $this->escape($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23) . "'"); $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_unicode WHERE area='" . $this->escape($ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23) . "' AND type='customer'"); if($this->use_template == $ib3030c2f45bbc82e69ffc17cfc27fca86f99bf23) { $this->displayConfirmation(v_customersms_smsdeleted); $this->fastRedirect($this->getLink($i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9["route"])); } $this->displayConfirmation(v_customersms_smsdeleted); return self::POST_OK; } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitAddMutation'])) { $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['country'], ENT_COMPAT, 'UTF-8'); if(strlen($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) > 0) { $ib1199182837e705aae8d93f525c88b1184f9395d = explode(";", $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); $this->use_template = $ib1199182837e705aae8d93f525c88b1184f9395d[0]; $this->use_template_name = $ib1199182837e705aae8d93f525c88b1184f9395d[1] . " ( " . $ib1199182837e705aae8d93f525c88b1184f9395d[0] . ")"; $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_templates WHERE area='" . $this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[0]) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_hooks_templates VALUES ('" . $this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[0]) . "','" . $this->escape($ib1199182837e705aae8d93f525c88b1184f9395d[1]) . "') "); $this->displayConfirmation(v_customersms_versionfor . $ib1199182837e705aae8d93f525c88b1184f9395d[1] . v_customersms_wassaved); return self::POST_OK; } } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitCustomerUnicode'])) { if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['unicode'])) { $id960ddd9e843150fe4875c48e896395edac7ca1d6c08bf61f437a7df1241311fb1b61cb26dfddd64 = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['unicode'], ENT_COMPAT, 'UTF-8'); } else { $id960ddd9e843150fe4875c48e896395edac7ca1d6c08bf61f437a7df1241311fb1b61cb26dfddd64 = 0; } $this->use_template_name = $this->use_template = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['use_template'], ENT_COMPAT, 'UTF-8'); $this->use_template = htmlentities($if7ac7ffb0e11bffa95681698138e923b4fd51990['use_template'], ENT_COMPAT, 'UTF-8'); $id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("DELETE FROM " . DB_PREFIX . "sp_hooks_unicode WHERE area='" . $this->escape($this->use_template) . "' and type='customer' "); if($id960ddd9e843150fe4875c48e896395edac7ca1d6c08bf61f437a7df1241311fb1b61cb26dfddd64) { $id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("INSERT INTO " . DB_PREFIX . "sp_hooks_unicode VALUE ('" . $this->escape($this->use_template) . "'," . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d6c08bf61f437a7df1241311fb1b61cb26dfddd64) . ",'customer') "); } $this->displayConfirmation(v_customersms_unicodesaved); return self::POST_OK; } return self::POST_ERROR; } public function loadhooks() { foreach(SmsVariables::$hooks as $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d) { if($id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d["owner"] != 1 && $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d["owner"] != 0) { $this->res_groups[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['group']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']][] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']; $this->res_hooks_info[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['info']; $this->res_hooks_template[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['template2']; $this->res_hooks_notice[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['notice']; $this->res_hooks_background[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['background']; $this->res_hooks_icon[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['icon']; } } return true; } public function loadcustomerhooks($id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf) { $id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_hooks_customers WHERE mutation LIKE '" . $this->escape($id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf) . "'"); if($id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach($id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d) { $this->res_hooks_customer[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = stripslashes($id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['smstext']); $this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['name']][$id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['status']] = $id960ddd9e843150fe4875c48e896395edac7ca1d2e93e61d67c274d891066238c74ba6322d527b6d['active']; } } return true; } private function f71d392bfd520352a928ab9276d78a42fdc5415a7() { $id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_hooks_unicode WHERE area='" . $this->escape($this->use_template) . "' AND type='customer'"); if($id960ddd9e843150fe4875c48e896395edac7ca1d83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $this->use_unicode = 1; } return ' <script language="javascript"> var unicode = ' . $this->use_unicode . '; </script> <fieldset> <legend><img src="' . self::$setingsImg . '" alt="' . v_customersms_unicodesms . '" /> ' . v_customersms_unicodesms . '</legend> <form action="" method="post"> <p>' . v_customersms_unicodetext . '</p> ' . self::getInput(array("type" => "checkbox", "name" => "unicode", "value" => 1), $this->use_unicode) . ' ' . v_customersms_unicode . ' ' . self::getInput(array("type" => "submit", "name" => "submitCustomerUnicode", "value" => v_customersms_save, "class" => "button")) . ' ' . self::getInput(array("type" => "hidden", "name" => "use_template", "value" => $this->use_template)) . ' </form> </fieldset> '; } private function f3e50ce0c05388e3ae00ae4bebe6bb413cceb20e4() { $id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80 = $this->getLanguageMutation(); if(count($id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80) > 1) { $i0a8630c70fd10ecb8e17b90a650d163eff0afc94 = ""; $i96af127098815662a9cdfe1a597f0ad68444e986 = array(); $id960ddd9e843150fe4875c48e896395edac7ca1d638555cbe7ed2af60dac0c7d163508bf34c13283 = -1; $id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf = filter_input(INPUT_GET, "mutation"); if($id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf == NULL) { $id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf = SMS_DEFAULT_MUTATION; } $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee = ' <fieldset> <legend><img src="' . self::$transImg . '" alt="" /> ' . ucfirst(trim(v_customersms_langversion)) . '</legend> <ul class="nav nav-pills"> '; foreach($id960ddd9e843150fe4875c48e896395edac7ca1dfeb4cd4d599025513d155bea112cfa36e7dc5f80 as $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $id960ddd9e843150fe4875c48e896395edac7ca1d70813bf71c271f3955af7521e335cadb3cf56e89) { $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= "<li".(($id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 == $id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf)?" class=\"active\"":"")."><a href=\"".$this->smsLinkCustomerSMSMutationSelect($id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695)."\" ".(($id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 == $id960ddd9e843150fe4875c48e896395edac7ca1d9e3df1d3983fca7877bc296d93247abc159ceeaf)?" style=\"background-color: ".self::$colors[$this->mutationColors[$this->use_template]]."\"":"").">". htmlspecialchars($id960ddd9e843150fe4875c48e896395edac7ca1d70813bf71c271f3955af7521e335cadb3cf56e89)."</a></li>"; } $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= ' </ul> </fieldset> '; return $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee; } return ""; } private function ff91a12b15567fc5332be7b7348cb2b6c7b1a5f89($id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03, $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8, $id960ddd9e843150fe4875c48e896395edac7ca1dbd0578718e12a692b299a588249092e07aac601e, $i7d81a14a5090d716f9bd101fd73660f7e203a168, $id960ddd9e843150fe4875c48e896395edac7ca1d45a340720dd557820afa360e925b8fe31b7e6afd) { $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee = ' <form name="form' . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . '" action="" method="post" class="ajax"> <table class="formTable"> <tr> <td class="bottom padv0">' . self::getLabel(v_customersms_smstext) . '</td> <td class="bottom padv0">' . self::getLabel(v_customersms_preview, 'id="label' . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . '"') . '</td> <td colspan="3">' . self::getLabel(v_customersms_active) . '</td> </tr> <tr> <td rowspan="2" class="hookTextArea top">' . self::getTextArea(array("name" => "text", "id" => "textArea" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8, "onchange" => "countHook('" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . "')", "onkeyup" => "countHook('" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . "')", "style" => "width:290px;height:100px;"), $id960ddd9e843150fe4875c48e896395edac7ca1dbd0578718e12a692b299a588249092e07aac601e) . '</td> <td rowspan="2" class="hookTextArea top">' . self::getTextArea(array("id" => "textfake" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8, "name" => "textfake", "disabled" => "disabled", "style" => "width:290px;height:100px;")) . '</td> <td colspan="3">' . self::getInput(array("type" => "checkbox", "name" => "active", "value" => 1), $i7d81a14a5090d716f9bd101fd73660f7e203a168) . ' ' . v_customersms_active . '</td> </tr> <tr> <td class="top w50">' . self::getInput(array("type" => "submit", "value" => v_customersms_save, "name" => "submitCustomerSMS", "class" => "button")) . '</td> <td class="top w50">' . self::getInput(array("type" => "button", "value" => v_customersms_cancel, "title" => v_customersms_restoreunsaved, "class" => "button", "onClick" => "this.form.reset();countHook('" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . "')")) . '</td> <td></td> </tr> <tr> <td colspan="5">' . v_smsprestashop_notice . '<br /><br />' . $this->noticeEval($id960ddd9e843150fe4875c48e896395edac7ca1d45a340720dd557820afa360e925b8fe31b7e6afd, $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8) . '</td> </tr> </table> ' . self::getInput(array("type" => "hidden", "name" => "status", "value" => "$id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8")) . ' ' . self::getInput(array("type" => "hidden", "name" => "ajax-id", "value" => "" . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . "")) . ' ' . self::getInput(array("type" => "hidden", "name" => "name", "value" => "$id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03")) . ' ' . self::getInput(array("type" => "hidden", "name" => "use_template", "value" => $this->use_template)) . ' </form> <script language="javascript"> countHook(\'' . $id960ddd9e843150fe4875c48e896395edac7ca1d32f990de0fa2e05c03d31bf5021f8ede63166d03 . $id960ddd9e843150fe4875c48e896395edac7ca1d4786607b2e7dfa9462edea09fe32c7ff3fc405e8 . '\'); </script> '; return $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee; } public function ajaxSubmitCustomerSMS($id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06) { $this->setAction($id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["ajax-id"]); $this->disableScrollUp(); $this->loadcustomerhooks($id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["use_template"]); if(isset($this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["name"]][$id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["status"]]) && $this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["name"]][$id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["status"]] > 0) { $this->sendSnippet("active" . $id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["name"] . $id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["status"], '<span style="cursor:help;" title="' . v_customersms_smsactive . '"><img src="' . self::$acceptImg . '" alt="' . v_customersms_smsactive . '" /></span>'); } else { $this->sendSnippet("active" . $id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["name"] . $id960ddd9e843150fe4875c48e896395edac7ca1d271d128766e9be75d50f8a49080f6dc19da16d06["status"], '<span style="cursor:help;" title="' . v_customersms_smsnotactive . '"><img src="' . self::$denyImg . '" alt="' . v_customersms_smsnotactive . '" /></span>'); } } private function f6a6916b02bcc0f6812dc1ce98f0ad5ff3ccb2394() { $i849621bc8bf35945f6151e95715e221f5996c107 = array(0 => v_customersms_orderstatus, 1 => v_customersms_order, 2 => v_customersms_account, 3 => v_adminsms_product, 4 => v_contact_form, 5 => v_hook_return); $id960ddd9e843150fe4875c48e896395edac7ca1d629aa4657145612a902950480150ba4a815dd832 = array(0 => self::$orderImg, 1 => self::$orderImg, 2 => self::$adminCustomerImg, 3 => self::$catalogImg, 4 => self::$catalogImg, 5 => self::$sendImg); $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee = ""; for($id960ddd9e843150fe4875c48e896395edac7ca1d = 0; $id960ddd9e843150fe4875c48e896395edac7ca1d < 6; $id960ddd9e843150fe4875c48e896395edac7ca1d++) { if(!isset($this->res_groups[$id960ddd9e843150fe4875c48e896395edac7ca1d])) { continue; } $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <fieldset> <legend><img src="' . $id960ddd9e843150fe4875c48e896395edac7ca1d629aa4657145612a902950480150ba4a815dd832[$id960ddd9e843150fe4875c48e896395edac7ca1d] . '" alt="" /> ' . $i849621bc8bf35945f6151e95715e221f5996c107[$id960ddd9e843150fe4875c48e896395edac7ca1d] . '</legend> <table class="resultTable"> <tbody> '; foreach($this->res_groups[$id960ddd9e843150fe4875c48e896395edac7ca1d] as $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $id960ddd9e843150fe4875c48e896395edac7ca1dbd0578718e12a692b299a588249092e07aac601e) { foreach($id960ddd9e843150fe4875c48e896395edac7ca1dbd0578718e12a692b299a588249092e07aac601e as $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b) { if(isset($this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) && $this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] > 0) { $i2e4fdeb098e7d0ae23dea13d874d03dd7784ea11 = '<span id="snippet-active' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '"><span style="cursor:help;" title="' . v_customersms_smsactive . '"><img src="' . self::$acceptImg . '" alt="' . v_customersms_smsactive . '" /></span></span>'; } else { $i2e4fdeb098e7d0ae23dea13d874d03dd7784ea11 = '<span id="snippet-active' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '"><span style="cursor:help;" title="' . v_customersms_smsnotactive . '"><img src="' . self::$denyImg . '" alt="' . v_customersms_smsnotactive . '" /></span></span>'; } if(isset($this->res_hooks_customer[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) && strlen($this->res_hooks_customer[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) > 0) { $ia11096c0109e1656e0b04e190a7fda541ae51e56 = $this->res_hooks_customer[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]; } else { $ia11096c0109e1656e0b04e190a7fda541ae51e56 = $this->res_hooks_template[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]; } $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr ' . self::isEven($id960ddd9e843150fe4875c48e896395edac7ca1d0018d0cb00e9a7ab65cdbd7f1c6b001b1e0222a6, "even") . '> <td> <a id="displayText' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '" href="javascript:" class="noUnderline" onclick="toggleInfo(\'' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '\');"> <img src="' . self::$plusImg . '" id="toggleButton' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '"/> ' . (($id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b == "actionOrderStatusPostUpdate") ? (v_customersms_statusupdate) : ($id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b)) . ' - <span class="orderStatusHighlight" '.(defined("SMS_ENABLE_COLOR")?('style="border: 2px solid '.self::$colors[$this->mutationColors[$this->use_template]].';"'):"").'>' . $this->res_hooks_info[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] . '</span> </a> </td> <td class="right middle">' . self::getAjaxLoader($id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695) . ' ' . $i2e4fdeb098e7d0ae23dea13d874d03dd7784ea11 . '</td> </tr> <tr class="hidden noHover" id="toggleText' . $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b . $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '"> <td colspan="2">' . $this->ff91a12b15567fc5332be7b7348cb2b6c7b1a5f89( $id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b, $id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695, $ia11096c0109e1656e0b04e190a7fda541ae51e56, ((isset($this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695])) ? ($this->res_hooks_active[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) : (array())), ((isset($this->res_hooks_notice[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695])) ? ($this->res_hooks_notice[$id960ddd9e843150fe4875c48e896395edac7ca1d69f7275fe4199c3791f18dc1326300013be7fa9b][$id960ddd9e843150fe4875c48e896395edac7ca1d8a31cdb91ad25bea0cf23b0dd384a4bd00af6695]) : (array())) ) . ' </td> </tr> '; } } $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee .= ' </tbody> </table> </fieldset> '; } return $id960ddd9e843150fe4875c48e896395edac7ca1d02fcabda2448d40bdb76bd10f9e95950039649ee; } } 