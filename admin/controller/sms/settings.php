<?php define("SMS_CONTROLER_URL", DIR_APPLICATION . 'model/sms/'); require_once (defined("SMS_CONTROLER_URL")?SMS_CONTROLER_URL:"") .'smsController.php'; class ControllerSmsSettings extends SmsController { const TYPE_CUSTOMER = "customer"; const TYPE_ADMIN = "admin"; const ACTION_ADD = "add"; const ACTION_MYNUMBER = "mynumber"; const ACTION_TEXT = "text"; const SENDER_TEXT = 0; const SENDER_SYSTEM = 1; const SENDER_MYNUMBER = 2; const SENDER_SIMHOSTING = 3; const ISMS = 0; const SENDERTYPE = 1; private $vbb812780222473a88dfc6dbf3bbbd129be36114b; private $vcb508a5ed091a23493230eadde1a4f606596bedb; private $vb17553f86a6e6460083956094e21682b0eb19a5b = null; private $v82b103019f8b63abe35e23c8982897d7b3b13cd2 = null; private $v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; private $vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = null; private $vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = ""; private $v92bd58c9bda4434c266c65c6149b3ab633704145 = -1; private $vc44128f76c174dfb5d9410aa4dce452c62ef2c82 = ""; private $va917c2d49152f506b70362a47d4a4b689d3e7541 = -1; private $v24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1 = ""; private $va673093194bc7ce7672ed2857425609839b3119d = null; private $v19b8b7cad3f484c5fd3981e8d383972bf5b46508 = false; public function index() { parent::index(); } public function display() { $i02fcabda2448d40bdb76bd10f9e95950039649ee = parent::display(); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= "<script type=\"text/javascript\" src=\"" . DIR_SMS_JS . "sms.js\"></script>"; if(!$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) { $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->select_country(); } $this->fce38023754e1d41cd66ecbcc2dcd83707eb745b7(); $i02fcabda2448d40bdb76bd10f9e95950039649ee .='<h2>' . v_smswizard_smssettings . '</h2><p>' . v_smswizard_description . '</p>'; if($this->vb17553f86a6e6460083956094e21682b0eb19a5b == self::ACTION_ADD) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . (($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 == self::TYPE_CUSTOMER) ? v_smswizard_customersettings : v_smswizard_adminsettings) . ' - ' . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . '</legend> '; $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->getTableServer(); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</fieldset>'; } elseif($this->vb17553f86a6e6460083956094e21682b0eb19a5b == self::ACTION_MYNUMBER) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_ownsettings . ' ' . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . '</legend> '; $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->fad710e267c002f374f607e125e6219e044710bba(); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</fieldset>'; } elseif($this->vb17553f86a6e6460083956094e21682b0eb19a5b == self::ACTION_TEXT) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_textsettings . ' ' . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . '</legend> '; $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->feec928978387e66a94acdb8a1c467c67dbe7467c(); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</fieldset>'; } else { $i02fcabda2448d40bdb76bd10f9e95950039649ee .=' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_customersettings . '</legend> <form action="" method="post"> <p class="center"> ' . v_smswizard_country . ' ' . self::getSelect(array("name" => "country"), SmsVariables::$countries, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . ' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' . self::getInput(array("type" => "submit", "name" => "submitAddCustomer", "value" => v_smswizard_addcountry)) . ' </p> </form> '; $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes where type like 'customer' order by area_text"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->getTable($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row["info"], $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows, self::TYPE_CUSTOMER); } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</fieldset>'; $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <fieldset> <legend><img src="' . self::$setingsImg . '" /> ' . v_smswizard_adminsettings . '</legend> <form action="" method="post"> <p class="center"> ' . v_smswizard_country . ' ' . self::getSelect(array("name" => "country"), SmsVariables::$countries, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' . self::getInput(array("type" => "submit", "name" => "submitAddAdmin", "value" => v_smswizard_addcountry)) . ' </p> </form> '; $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes where type like 'admin' order by area_text"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->getTable($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row["info"], $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows, self::TYPE_ADMIN); } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</fieldset>'; } return $i02fcabda2448d40bdb76bd10f9e95950039649ee; } public function postProcess($if7ac7ffb0e11bffa95681698138e923b4fd51990 = NULL, $i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9 = NULL) { if($if7ac7ffb0e11bffa95681698138e923b4fd51990 == NULL && $i120dfeb2f4db76e8e52ed01ad8e678e2b9fa3bb9 == NULL) { return self::POST_ERROR; } if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990["submitAddCustomer"]) || isset($if7ac7ffb0e11bffa95681698138e923b4fd51990["submitAddCustomer_x"])) { $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = self::TYPE_CUSTOMER; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = self::ACTION_ADD; $i9ec854a302fbdb72d043506b55d5bf395184517b = new SmsModel($this->getDb()); $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = $i9ec854a302fbdb72d043506b55d5bf395184517b->getCountryPriceList($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); if($i9ec854a302fbdb72d043506b55d5bf395184517b->isError()) { $this->_errors = array_unique($i9ec854a302fbdb72d043506b55d5bf395184517b->getErrors()); return self::POST_ERROR; } } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990["submitAddAdmin"]) || isset($if7ac7ffb0e11bffa95681698138e923b4fd51990["submitAddAdmin_x"])) { $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = self::TYPE_ADMIN; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = self::ACTION_ADD; $i9ec854a302fbdb72d043506b55d5bf395184517b = new SmsModel($this->getDb()); $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = $i9ec854a302fbdb72d043506b55d5bf395184517b->getCountryPriceList($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); if($i9ec854a302fbdb72d043506b55d5bf395184517b->isError()) { $this->_errors = array_unique($i9ec854a302fbdb72d043506b55d5bf395184517b->getErrors()); return self::POST_ERROR; } } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitDeleteRouteCustomer_x']) || isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitDeleteRouteAdmin_x'])) { if(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitDeleteRouteCustomer_x'])) { $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = self::TYPE_CUSTOMER; } else { $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = self::TYPE_ADMIN; } $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . " and type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->displayConfirmation(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_deleted); return self::POST_OK; } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990["submitAddRoute"])) { $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = $this->escapePostVariables("type"); $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = $this->escapePostVariables("info"); $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = explode(";", $this->escapePostVariables("isms")); $this->vb17553f86a6e6460083956094e21682b0eb19a5b = $this->escapePostVariables("action"); if(!(count($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1) > 1)) { $this->f171e2f2d4c80ae2a7a9ef62ff20c62d8d369c76b($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3); $this->_errors[] = v_smswizard_choosesender; return self::POST_ERROR; } if($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE] == self::SENDER_SYSTEM || $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE] == self::SENDER_SIMHOSTING) { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area='" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "' AND type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "','" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::ISMS]) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE]) . "','','" . $this->escape($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3) . "','" . $this->escape(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078]) . "')"); $this->displayConfirmation(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_countrysaved); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = null; $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = null; return self::POST_OK; } elseif($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE] == self::SENDER_MYNUMBER) { $this->vb17553f86a6e6460083956094e21682b0eb19a5b = self::ACTION_MYNUMBER; return self::POST_ERROR; } elseif($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE] == self::SENDER_TEXT) { $this->vb17553f86a6e6460083956094e21682b0eb19a5b = self::ACTION_TEXT; return self::POST_ERROR; } return self::POST_ERROR; } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitAddTextSenderID'])) { $this->v92bd58c9bda4434c266c65c6149b3ab633704145 = $this->escapePostVariables("textsenderID"); $this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82 = $this->escapePostVariables("newtextsenderID"); $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = $this->escapePostVariables("type"); $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = $this->escapePostVariables("info"); $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = explode(";", $this->escapePostVariables("isms")); $this->vb17553f86a6e6460083956094e21682b0eb19a5b = $this->escapePostVariables("action"); if($this->v92bd58c9bda4434c266c65c6149b3ab633704145 != -1) { $i92bd58c9bda4434c266c65c6149b3ab633704145 = $this->v92bd58c9bda4434c266c65c6149b3ab633704145; } else { $i92bd58c9bda4434c266c65c6149b3ab633704145 = $this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82; } if(!strlen($i92bd58c9bda4434c266c65c6149b3ab633704145) > 0) { $this->_errors[] = v_smswizard_filltextsid; return self::POST_ERROR; } if(strlen($i92bd58c9bda4434c266c65c6149b3ab633704145) > 11 || strlen($i92bd58c9bda4434c266c65c6149b3ab633704145) < 3) { $this->_errors[] = v_smswizard_filltextsid2; return self::POST_ERROR; } if(preg_match('/[^A-Za-z._]/', $this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82) && $this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82 == -1) { $this->_errors[] = v_smswizard_chars . "a-z A-Z _ ."; return self::POST_ERROR; } $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area='" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "' AND type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "','" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::ISMS]) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE]) . "','" . $this->escape($i92bd58c9bda4434c266c65c6149b3ab633704145) . "','" . $this->escape($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3) . "','" . $this->escape(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078]) . "')"); $this->displayConfirmation(v_smswizard_textsidfor . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_wassaved); $this->Execute("REPLACE INTO " . DB_PREFIX . "sp_textsenderIDs VALUES ('" . $this->escape($i92bd58c9bda4434c266c65c6149b3ab633704145) . "')"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = null; $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = null; return self::POST_OK; } elseif(isset($if7ac7ffb0e11bffa95681698138e923b4fd51990['submitAddOwnNumberSenderID'])) { $this->va917c2d49152f506b70362a47d4a4b689d3e7541 = $this->escapePostVariables("ownsenderID"); $this->v24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1 = $this->escapePostVariables("newownsenderID"); $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2 = $this->escapePostVariables("type"); $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 = $this->escapePostVariables("info"); $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = $this->escapePostVariables("country"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = explode(";", $this->escapePostVariables("isms")); $this->vb17553f86a6e6460083956094e21682b0eb19a5b = $this->escapePostVariables("action"); $this->va673093194bc7ce7672ed2857425609839b3119d = $this->escapePostVariables("validateCode"); $this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508 = $this->escapePostVariables("sendedCode"); if($this->va917c2d49152f506b70362a47d4a4b689d3e7541 != -1) { $ia917c2d49152f506b70362a47d4a4b689d3e7541 = $this->va917c2d49152f506b70362a47d4a4b689d3e7541; } else { $ia917c2d49152f506b70362a47d4a4b689d3e7541 = $this->v24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1; } if(!strlen($ia917c2d49152f506b70362a47d4a4b689d3e7541) > 0) { $this->_errors[] = v_smswizard_fillsid; return self::POST_ERROR; } if((!PhoneNumber::isPhoneNumber($ia917c2d49152f506b70362a47d4a4b689d3e7541)) && $this->va917c2d49152f506b70362a47d4a4b689d3e7541 == -1) { $this->_errors[] = v_smswizard_mustbenumber; return self::POST_ERROR; } if($this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508 && !preg_match("/^([0-9])*$/", $this->va673093194bc7ce7672ed2857425609839b3119d, $i692db588ebe47958986d369fc4502d8d939dac97)) { $this->_errors[] = v_smswizard_confirmcode; return self::POST_ERROR; } elseif($this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508 && $this->v92bd58c9bda4434c266c65c6149b3ab633704145 == -1) { $i9ec854a302fbdb72d043506b55d5bf395184517b = new SmsModel($this->getDb()); $i9ec854a302fbdb72d043506b55d5bf395184517b->validatePhoneNumberCode($this->va673093194bc7ce7672ed2857425609839b3119d, $ia917c2d49152f506b70362a47d4a4b689d3e7541); if($i9ec854a302fbdb72d043506b55d5bf395184517b->isError()) { $this->_errors = array_unique($i9ec854a302fbdb72d043506b55d5bf395184517b->getErrors()); return self::POST_ERROR; } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . " AND type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "','" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::ISMS]) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE]) . "','" . $this->escape($ia917c2d49152f506b70362a47d4a4b689d3e7541) . "','" . $this->escape($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3) . "','" . $this->escape(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078]) . "')"); $this->_okMsg[] = v_smswizard_ownsidfor . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_wassaved; $this->Execute("INSERT IGNORE INTO " . DB_PREFIX . "sp_ownnumbersenderIDs VALUES ('" . $this->escape($ia917c2d49152f506b70362a47d4a4b689d3e7541) . "')"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = null; $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = null; return self::POST_OK; } } elseif($this->v92bd58c9bda4434c266c65c6149b3ab633704145 == -1) { $i9ec854a302fbdb72d043506b55d5bf395184517b = new SmsModel($this->getDb()); $i921eb50fde995340f17a81b1aa051fbfa11d94d4 = $i9ec854a302fbdb72d043506b55d5bf395184517b->validatePhoneNumber($ia917c2d49152f506b70362a47d4a4b689d3e7541, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078, $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2); if($i9ec854a302fbdb72d043506b55d5bf395184517b->isError()) { if($i921eb50fde995340f17a81b1aa051fbfa11d94d4) { $this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508 = true; } $this->_okMsg = array_unique($i9ec854a302fbdb72d043506b55d5bf395184517b->getConfirm()); $this->_errors = array_unique($i9ec854a302fbdb72d043506b55d5bf395184517b->getErrors()); return self::POST_ERROR; } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . " AND type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "','" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::ISMS]) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE]) . "','" . $this->escape($ia917c2d49152f506b70362a47d4a4b689d3e7541) . "','" . $this->escape($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3) . "','" . $this->escape(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078]) . "')"); $this->_okMsg[] = v_smswizard_ownsidfor . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_wassaved; $this->Execute("INSERT IGNORE INTO " . DB_PREFIX . "sp_ownnumbersenderIDs VALUES ('" . $this->escape($ia917c2d49152f506b70362a47d4a4b689d3e7541) . "')"); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = null; $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = null; return self::POST_OK; } } else { $this->Execute("DELETE FROM " . DB_PREFIX . "sp_routes WHERE area=" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . " AND type='" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_routes VALUES ('" . $this->escape($this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "','" . $this->escape($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::ISMS]) . "','" . $this->escape($this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1[self::SENDERTYPE]) . "','" . $this->escape($ia917c2d49152f506b70362a47d4a4b689d3e7541) . "','" . $this->escape($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3) . "','" . $this->escape(SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078]) . "')"); $this->displayConfirmation(v_smswizard_ownsidfor . SmsVariables::$countries[$this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078] . v_smswizard_wassaved); $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1 = null; $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078 = null; $this->vb17553f86a6e6460083956094e21682b0eb19a5b = null; return self::POST_OK; } } return self::POST_ERROR; } private function f171e2f2d4c80ae2a7a9ef62ff20c62d8d369c76b($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3) { $this->payment = null; $this->vcb508a5ed091a23493230eadde1a4f606596bedb = array(); $this->vbb812780222473a88dfc6dbf3bbbd129be36114b = array(); $id6df7fb626ea7dcb74a3aeaed55471bda0715fc1 = explode("%", $ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); $i7c49edae120b0051c073d4d10dcf6afe22abaad8 = explode("_", $id6df7fb626ea7dcb74a3aeaed55471bda0715fc1[0]); $iab2ca8f8b42c0234d6ac0f985d5d80808ed79f3b = explode(";", $i7c49edae120b0051c073d4d10dcf6afe22abaad8[0]); $this->payment = explode(";", $i7c49edae120b0051c073d4d10dcf6afe22abaad8[1]); $this->dph = $id6df7fb626ea7dcb74a3aeaed55471bda0715fc1[1]; for($i53fe3636035d59631bb08f7ead57165cc74883be = 0; $i53fe3636035d59631bb08f7ead57165cc74883be < count($iab2ca8f8b42c0234d6ac0f985d5d80808ed79f3b); $i53fe3636035d59631bb08f7ead57165cc74883be++) { $ie618b9c3607548364a1c69e87388f1e555b6a62d = explode("|", $iab2ca8f8b42c0234d6ac0f985d5d80808ed79f3b[$i53fe3636035d59631bb08f7ead57165cc74883be]); if(isset($ie618b9c3607548364a1c69e87388f1e555b6a62d[3]) && ($ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 1 || $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 2 || $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 4))  { $this->vcb508a5ed091a23493230eadde1a4f606596bedb[0][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[2]; $this->vbb812780222473a88dfc6dbf3bbbd129be36114b[0][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[4]; } if(isset($ie618b9c3607548364a1c69e87388f1e555b6a62d[3]) && $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 3)  { $this->vcb508a5ed091a23493230eadde1a4f606596bedb[1][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[2]; $this->vbb812780222473a88dfc6dbf3bbbd129be36114b[1][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[4]; } if(isset($ie618b9c3607548364a1c69e87388f1e555b6a62d[3]) && ($ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 1 || $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 2 || $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 5))  { $this->vcb508a5ed091a23493230eadde1a4f606596bedb[2][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[2]; $this->vbb812780222473a88dfc6dbf3bbbd129be36114b[2][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[4]; } if(isset($ie618b9c3607548364a1c69e87388f1e555b6a62d[3]) && $ie618b9c3607548364a1c69e87388f1e555b6a62d[3] == 10)  { $this->vcb508a5ed091a23493230eadde1a4f606596bedb[3][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[2]; $this->vbb812780222473a88dfc6dbf3bbbd129be36114b[3][$ie618b9c3607548364a1c69e87388f1e555b6a62d[0]][$ie618b9c3607548364a1c69e87388f1e555b6a62d[1]] = $ie618b9c3607548364a1c69e87388f1e555b6a62d[4]; } } return true; } public function formatPrice($i3d458d30e59c6024221be3909d2273b51078aff6, $i9d25d63b084741b66fc91ec7fe891607f034d10c = 4) { return (number_format($i3d458d30e59c6024221be3909d2273b51078aff6, $i9d25d63b084741b66fc91ec7fe891607f034d10c, ",", " ")); } public function getTable($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3, $ib1199182837e705aae8d93f525c88b1184f9395d, $i82b103019f8b63abe35e23c8982897d7b3b13cd2) { $this->f171e2f2d4c80ae2a7a9ef62ff20c62d8d369c76b($ib2bdeb39d0b431e06e364d808d2f32fddee67ca3); if($i82b103019f8b63abe35e23c8982897d7b3b13cd2 == self::TYPE_CUSTOMER) { $i92c4872303bb6c438bf7780e90a4ca28df7c6e68 = "submitAddCustomer"; $ia130a1f13b5ccb4c8fc95e7e4bc65d87fe96dbf7 = "submitDeleteRouteCustomer"; } else { $i92c4872303bb6c438bf7780e90a4ca28df7c6e68 = "submitAddAdmin"; $ia130a1f13b5ccb4c8fc95e7e4bc65d87fe96dbf7 = "submitDeleteRouteAdmin"; } $i3da7d27ed65066b98b003daf0808f54e53cda923 = $this->f263074bc056f8bd2e1e365a05c308e12de79ddc8(); $i02fcabda2448d40bdb76bd10f9e95950039649ee = ' <table class="priceTable"> <thead> <tr> <th rowspan="2">' . v_smswizard_sendertype . '</th> <th rowspan="2" class="w150">' . v_smswizard_network . '</th> <th colspan="3" class="noBottom">' . v_smswizard_price . '</th> <th rowspan="2" class="w150">' . v_smswizard_smsprice . '</th> <th rowspan="2" class="noRight w100">' . v_smswizard_unicode . '</th> </tr> <tr> <th class="noTop w150">' . v_smswizard_payment . ' ' . $i3da7d27ed65066b98b003daf0808f54e53cda923[0][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i3da7d27ed65066b98b003daf0808f54e53cda923[1][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i3da7d27ed65066b98b003daf0808f54e53cda923[2][0] . ' (' . smscurrency . ')</th> </tr> </head> <tbody> '; if(is_array($ib1199182837e705aae8d93f525c88b1184f9395d)) { foreach($ib1199182837e705aae8d93f525c88b1184f9395d as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $this->f171e2f2d4c80ae2a7a9ef62ff20c62d8d369c76b($i2e93e61d67c274d891066238c74ba6322d527b6d["info"]); $i3da7d27ed65066b98b003daf0808f54e53cda923 = $this->f263074bc056f8bd2e1e365a05c308e12de79ddc8(); $i6a2b7e00a14bce430bfd30b157f16415081ad5f2 = $this->faf784b35ab1eb6207b421fa063e85974e7fe70cc($i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"], $i2e93e61d67c274d891066238c74ba6322d527b6d["senderID"], $i2e93e61d67c274d891066238c74ba6322d527b6d["isms"]); $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr class="noHover"> <td><strong>' . htmlspecialchars($i2e93e61d67c274d891066238c74ba6322d527b6d["area_text"]) . ' (+' . htmlspecialchars($i2e93e61d67c274d891066238c74ba6322d527b6d["area"]) . ')' . '</strong></td> <td colspan="6" class="noRight"> <form action="" method="post"> ' . self::getInput(array("type" => "hidden", "name" => "country", "value" => $i2e93e61d67c274d891066238c74ba6322d527b6d["area"])) . ' ' . self::getInput(array("type" => "image", "src" => self::$adminEdit, "name" => $i92c4872303bb6c438bf7780e90a4ca28df7c6e68, "alt" => ucfirst(v_smswizard_edit) . " " . $i2e93e61d67c274d891066238c74ba6322d527b6d['area_text'], "title" => ucfirst(v_smswizard_edit) . " " . $i2e93e61d67c274d891066238c74ba6322d527b6d['area_text'])) . ' ' . self::getInput(array("type" => "image", "src" => self::$adminDelete, "name" => $ia130a1f13b5ccb4c8fc95e7e4bc65d87fe96dbf7, "alt" => ucfirst(v_smswizard_delete) . " " . $i2e93e61d67c274d891066238c74ba6322d527b6d['area_text'], "title" => ucfirst(v_smswizard_delete) . " " . $i2e93e61d67c274d891066238c74ba6322d527b6d['area_text'], "onclick" => "return confirm('" . v_smswizard_suredelete . " " . $i2e93e61d67c274d891066238c74ba6322d527b6d["area_text"] . "?')")) . ' </form> </td> </tr> '; $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f = 0; $iec2c6746974b3b0f7b748e7e73851f46b0517cb8 = false; if(isset($this->vcb508a5ed091a23493230eadde1a4f606596bedb[$i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"]]) && isset($this->vcb508a5ed091a23493230eadde1a4f606596bedb[$i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"]][$i2e93e61d67c274d891066238c74ba6322d527b6d["isms"]])) { foreach($this->vcb508a5ed091a23493230eadde1a4f606596bedb[$i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"]][$i2e93e61d67c274d891066238c74ba6322d527b6d["isms"]] as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $ibd0578718e12a692b299a588249092e07aac601e) { if(preg_match("/^\./", trim($i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695))) { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = "virtuals" . $i2e93e61d67c274d891066238c74ba6322d527b6d["area"] . $i2e93e61d67c274d891066238c74ba6322d527b6d["type"] . " hidden"; $iec2c6746974b3b0f7b748e7e73851f46b0517cb8 = true; } else { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr ' . self::isEven($i0018d0cb00e9a7ab65cdbd7f1c6b001b1e0222a6, "even", false, $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706) . ' > <td class="noBottom">' . (($i35d0bf7a77a6df945bffd9eb93f1166d26c8231f == 0) ? $i6a2b7e00a14bce430bfd30b157f16415081ad5f2 : "") . '</td> <td>' . $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[0][1] * $ibd0578718e12a692b299a588249092e07aac601e, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[1][1] * $ibd0578718e12a692b299a588249092e07aac601e, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[2][1] * $ibd0578718e12a692b299a588249092e07aac601e, 4)) . '</td> <td class="center">' . htmlspecialchars($ibd0578718e12a692b299a588249092e07aac601e) . '</td> <td class="center noRight">' . (($this->vbb812780222473a88dfc6dbf3bbbd129be36114b[$i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"]][$i2e93e61d67c274d891066238c74ba6322d527b6d["isms"]][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695] > 0) ? '<img src="' . self::$acceptImg . '" alt="' . v_smswizard_unicodesupported . '" title="' . v_smswizard_unicodesupported . '"/>' : '<img src="' . self::$denyImg . '" alt="' . v_smswizard_nounicode . '" title="' . v_smswizard_nounicode . '"/>') . '</td> </tr> '; $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f++; if($i35d0bf7a77a6df945bffd9eb93f1166d26c8231f == count($this->vcb508a5ed091a23493230eadde1a4f606596bedb[$i2e93e61d67c274d891066238c74ba6322d527b6d["sendertype"]][$i2e93e61d67c274d891066238c74ba6322d527b6d["isms"]]) && $iec2c6746974b3b0f7b748e7e73851f46b0517cb8) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr class="noHoverDown"> <td></td> <td colspan="6" class="noRight"><span class="variables" onclick="jQuery(\'.virtuals' . $i2e93e61d67c274d891066238c74ba6322d527b6d["area"] . $i2e93e61d67c274d891066238c74ba6322d527b6d["type"] . '\').toggleClass(\'hidden\');">' . v_show_virtual . '</span></td> </tr> '; } } } } } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' </tbody> </table> '; return $i02fcabda2448d40bdb76bd10f9e95950039649ee; } public function getTableServer() { if($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3 == null) { return false; } $ib1199182837e705aae8d93f525c88b1184f9395d = $this->f1b1c636527127b1c174f4aa075d5334084c79b0e($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); $this->f171e2f2d4c80ae2a7a9ef62ff20c62d8d369c76b($this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3); $i3da7d27ed65066b98b003daf0808f54e53cda923 = $this->f263074bc056f8bd2e1e365a05c308e12de79ddc8(); $i02fcabda2448d40bdb76bd10f9e95950039649ee = ' <form action="" method="post"> <table class="priceTable"> <thead> <tr> <th rowspan="2">' . v_smswizard_sendertype . '</th> <th rowspan="2" class="w150">' . v_smswizard_network . '</th> <th colspan="3" class="noBottom">' . v_smswizard_price . '</th> <th rowspan="2" class="w150">' . v_smswizard_smsprice . '</th> <th rowspan="2" class="noRight w100">' . v_smswizard_unicode . '</th> </tr> <tr> <th class="noTop w150">' . v_smswizard_payment . ' ' . $i3da7d27ed65066b98b003daf0808f54e53cda923[0][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i3da7d27ed65066b98b003daf0808f54e53cda923[1][0] . ' (' . smscurrency . ')</th> <th class="noTop w150">' . $i3da7d27ed65066b98b003daf0808f54e53cda923[2][0] . ' (' . smscurrency . ')</th> </tr> </head> <tbody> '; if(is_array($this->vcb508a5ed091a23493230eadde1a4f606596bedb)) { foreach($this->vcb508a5ed091a23493230eadde1a4f606596bedb as $i82b103019f8b63abe35e23c8982897d7b3b13cd2 => $i2e93e61d67c274d891066238c74ba6322d527b6d) { $i3da7d27ed65066b98b003daf0808f54e53cda923 = $this->f263074bc056f8bd2e1e365a05c308e12de79ddc8(); foreach($i2e93e61d67c274d891066238c74ba6322d527b6d as $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 => $ibd0578718e12a692b299a588249092e07aac601e) { $i6a2b7e00a14bce430bfd30b157f16415081ad5f2 = self::getInput(array("name" => "isms", "type" => "radio", "value" => $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . ";" . $i82b103019f8b63abe35e23c8982897d7b3b13cd2), ($i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . ";" . $i82b103019f8b63abe35e23c8982897d7b3b13cd2) == ($ib1199182837e705aae8d93f525c88b1184f9395d["isms"] . ";" . $ib1199182837e705aae8d93f525c88b1184f9395d["sendertype"])); $i6a2b7e00a14bce430bfd30b157f16415081ad5f2 .= $this->faf784b35ab1eb6207b421fa063e85974e7fe70cc($i82b103019f8b63abe35e23c8982897d7b3b13cd2, v_smswizard_eg . " myweb.com", $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695); $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f = 0; $iec2c6746974b3b0f7b748e7e73851f46b0517cb8 = false; foreach($ibd0578718e12a692b299a588249092e07aac601e as $i6a1aba2927cb824194b174e4e16388006383ed3f => $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) { if(preg_match("/^\./", trim($i6a1aba2927cb824194b174e4e16388006383ed3f))) { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = "virtuals" . $i82b103019f8b63abe35e23c8982897d7b3b13cd2 . $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . " hidden"; $iec2c6746974b3b0f7b748e7e73851f46b0517cb8 = true; } else { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } if(count($ibd0578718e12a692b299a588249092e07aac601e) == $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f + 1 && !$iec2c6746974b3b0f7b748e7e73851f46b0517cb8) { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 .= " underline"; } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr ' . self::isEven($i0018d0cb00e9a7ab65cdbd7f1c6b001b1e0222a6, "even", false, $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706) . ' > <td class="noBottom">' . (($i35d0bf7a77a6df945bffd9eb93f1166d26c8231f == 0) ? $i6a2b7e00a14bce430bfd30b157f16415081ad5f2 : "") . '</td> <td>' . $i6a1aba2927cb824194b174e4e16388006383ed3f . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[0][1] * $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[1][1] * $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69, 4)) . '</td> <td class="center">' . $this->formatPrice(round($i3da7d27ed65066b98b003daf0808f54e53cda923[2][1] * $i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69, 4)) . '</td> <td class="center">' . htmlspecialchars($i2c0ef3bef9410f3bf64e2871a1e4a7bb4dbc7f69) . '</td> <td class="center noRight">' . (($this->vbb812780222473a88dfc6dbf3bbbd129be36114b[$i82b103019f8b63abe35e23c8982897d7b3b13cd2][$i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695][$i6a1aba2927cb824194b174e4e16388006383ed3f] > 0) ? '<img src="' . self::$acceptImg . '" alt="' . v_smswizard_unicodesupported . '" title="' . v_smswizard_unicodesupported . '"/>' : '<img src="' . self::$denyImg . '" alt="' . v_smswizard_nounicode . '" title="' . v_smswizard_nounicode . '"/>') . '</td> </tr> '; $i35d0bf7a77a6df945bffd9eb93f1166d26c8231f++; if($i35d0bf7a77a6df945bffd9eb93f1166d26c8231f == count($ibd0578718e12a692b299a588249092e07aac601e) && $iec2c6746974b3b0f7b748e7e73851f46b0517cb8) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' <tr class="noHoverDown"> <td></td> <td colspan="6" class="noRight"><span class="variables" onclick="jQuery(\'.virtuals' . $i82b103019f8b63abe35e23c8982897d7b3b13cd2 . $i8a31cdb91ad25bea0cf23b0dd384a4bd00af6695 . '\').toggleClass(\'hidden\');">' . v_show_virtual . '</span></td> </tr> '; } } } } } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= ' </tbody> </table> '; $i02fcabda2448d40bdb76bd10f9e95950039649ee .= "<p>" . self::getInput(array("name" => "submitAddRoute", "type" => "submit", "value" => v_smswizard_savesettings), false) . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->vb17553f86a6e6460083956094e21682b0eb19a5b)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2)) . "</p>"; if(method_exists($this, "addToPostAdapter")) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->addToPostAdapter(true); } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</form>'; return $i02fcabda2448d40bdb76bd10f9e95950039649ee; } private function feec928978387e66a94acdb8a1c467c67dbe7467c() { $ic44128f76c174dfb5d9410aa4dce452c62ef2c82 = $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; $ib1199182837e705aae8d93f525c88b1184f9395d = $this->f1b1c636527127b1c174f4aa075d5334084c79b0e($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); if($this->v92bd58c9bda4434c266c65c6149b3ab633704145 != -1) { $i92bd58c9bda4434c266c65c6149b3ab633704145 = $this->v92bd58c9bda4434c266c65c6149b3ab633704145; } elseif(isset($ib1199182837e705aae8d93f525c88b1184f9395d["senderID"])) { $i92bd58c9bda4434c266c65c6149b3ab633704145 = $ib1199182837e705aae8d93f525c88b1184f9395d["senderID"]; if($ib1199182837e705aae8d93f525c88b1184f9395d["senderID"] != "") { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = " class=\"hidden\""; $ic44128f76c174dfb5d9410aa4dce452c62ef2c82 = ""; } else { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } } else { $i92bd58c9bda4434c266c65c6149b3ab633704145 = -1; } if(strlen($this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82) > 0 && $this->v92bd58c9bda4434c266c65c6149b3ab633704145 == -1) { $ic44128f76c174dfb5d9410aa4dce452c62ef2c82 = $this->vc44128f76c174dfb5d9410aa4dce452c62ef2c82; $i92bd58c9bda4434c266c65c6149b3ab633704145 = -1; $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } $i02fcabda2448d40bdb76bd10f9e95950039649ee = ' <form action="" method="post"> <table class="formTable profile"> <tbody> <tr> <td>' . self::getLabel(v_smswizard_existingsid, 'class="bold"') . '</td> <td>' . self::getSelect(array("name" => "textsenderID", "id" => "selectTextSender", "onchange" => "textSender();"), $this->f8e5fa395ac54baee02b14cdd1f9ac0f660227ef6(), $i92bd58c9bda4434c266c65c6149b3ab633704145) . ' *</td> </tr> <tr id="newTextSender"' . $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 . '> <td>' . self::getLabel(v_smswizard_newsid, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "newtextsenderID", "type" => "text", "value" => $ic44128f76c174dfb5d9410aa4dce452c62ef2c82)) . ' * ' . self::getNote(v_smswizard_maxchars) . '</td> </tr> <tr> <td></td> <td>' . self::getInput(array("name" => "submitAddTextSenderID", "type" => "submit", "value" => v_smswizard_confirm)) . '</td> </tr> </tbody> </table> <div class="small note"><sup>*</sup> ' . v_adminsmsprofile_required . '</div>' . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->vb17553f86a6e6460083956094e21682b0eb19a5b)) . self::getInput(array("name" => "isms", "type" => "hidden", "value" => implode(";", $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1))); if(method_exists($this, "addToPostAdapter")) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->addToPostAdapter(true); } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</form>'; return $i02fcabda2448d40bdb76bd10f9e95950039649ee; } private function fad710e267c002f374f607e125e6219e044710bba() { $i24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1 = $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; $ib1199182837e705aae8d93f525c88b1184f9395d = $this->f1b1c636527127b1c174f4aa075d5334084c79b0e($this->v82b103019f8b63abe35e23c8982897d7b3b13cd2, $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078); if($this->va917c2d49152f506b70362a47d4a4b689d3e7541 != -1) { $ia917c2d49152f506b70362a47d4a4b689d3e7541 = $this->va917c2d49152f506b70362a47d4a4b689d3e7541; } elseif(isset($ib1199182837e705aae8d93f525c88b1184f9395d["senderID"]) && PhoneNumber::isPhoneNumber($ib1199182837e705aae8d93f525c88b1184f9395d["senderID"])) { $ia917c2d49152f506b70362a47d4a4b689d3e7541 = $ib1199182837e705aae8d93f525c88b1184f9395d["senderID"]; if($ib1199182837e705aae8d93f525c88b1184f9395d["senderID"] != "") { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = " class=\"hidden\""; $i24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1 = ""; } else { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } } else { $ia917c2d49152f506b70362a47d4a4b689d3e7541 = -1; } if(strlen($this->v24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1) > 0 && $this->va917c2d49152f506b70362a47d4a4b689d3e7541 == -1) { $i24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1 = $this->v24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1; $ia917c2d49152f506b70362a47d4a4b689d3e7541 = -1; $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = ""; } if($this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508) { $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 = " class=\"hidden\""; $if7a6d77e9294fd1c231b0e08d721dfa1f192bec6 = " class=\"hidden\""; $i011b2a01ee0a992d7ea6a807884909e65aefd0c7 = ""; } else { $if7a6d77e9294fd1c231b0e08d721dfa1f192bec6 = ""; $i011b2a01ee0a992d7ea6a807884909e65aefd0c7 = " class=\"hidden\""; } $i02fcabda2448d40bdb76bd10f9e95950039649ee = ' <form action="" method="post"> <table class="formTable profile"> <tbody> <tr' . $if7a6d77e9294fd1c231b0e08d721dfa1f192bec6 . '> <td>' . self::getLabel(v_smswizard_existingown, 'class="bold"') . '</td> <td>' . self::getSelect(array("name" => "ownsenderID", "id" => "selectOwnSender", "onchange" => "ownSender();"), $this->f2e417c6ce6885ef9fd0253ef02610a4fe8446157(), $ia917c2d49152f506b70362a47d4a4b689d3e7541) . ' *</td> </tr> <tr id="newOwnSender"' . $iea9d992f624fb48911a6ab7dc62eed1a4c5e3706 . '> <td>' . self::getLabel(v_smswizard_newownnrid, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "newownsenderID", "type" => "text", "value" => $i24931bf8d8dd5bf8b970fbea0e59a47ff06bffa1)) . ' * ' . self::getNote(v_smswizard_intformat) . '</td> </tr> <tr id="newOwnSender"' . $i011b2a01ee0a992d7ea6a807884909e65aefd0c7 . '> <td>' . self::getLabel(v_smswizard_smscode, 'class="bold"') . '</td> <td>' . self::getInput(array("name" => "validateCode", "type" => "text", "value" => $this->va673093194bc7ce7672ed2857425609839b3119d)) . ' *</td> </tr> <tr> <td></td> <td>' . self::getInput(array("name" => "submitAddOwnNumberSenderID", "type" => "submit", "value" => v_smswizard_confirm)) . '</td> </tr> </tbody> </table> <div class="small note"><sup>*</sup> ' . v_adminsmsprofile_required . '</div>' . self::getInput(array("name" => "info", "type" => "hidden", "value" => $this->vb2bdeb39d0b431e06e364d808d2f32fddee67ca3)) . self::getInput(array("name" => "country", "type" => "hidden", "value" => $this->v5a4616ba4ac4a7f21e69ba2afe5e994ae9927078)) . self::getInput(array("name" => "type", "type" => "hidden", "value" => $this->v82b103019f8b63abe35e23c8982897d7b3b13cd2)) . self::getInput(array("name" => "action", "type" => "hidden", "value" => $this->vb17553f86a6e6460083956094e21682b0eb19a5b)) . self::getInput(array("name" => "isms", "type" => "hidden", "value" => implode(";", $this->vf261e0e1babe742f7019d4d5742b8f9a0dc76be1))) . self::getInput(array("name" => "sendedCode", "type" => "hidden", "value" => $this->v19b8b7cad3f484c5fd3981e8d383972bf5b46508)); if(method_exists($this, "addToPostAdapter")) { $i02fcabda2448d40bdb76bd10f9e95950039649ee .= $this->addToPostAdapter(true); } $i02fcabda2448d40bdb76bd10f9e95950039649ee .= '</form>'; return $i02fcabda2448d40bdb76bd10f9e95950039649ee; } private function f8e5fa395ac54baee02b14cdd1f9ac0f660227ef6() { $ib1199182837e705aae8d93f525c88b1184f9395d = array(-1 => "- " . v_smswizard_textsid2 . " -"); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT textsenderID FROM `" . DB_PREFIX . "sp_textsenderIDs` ORDER BY textsenderID"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $ib1199182837e705aae8d93f525c88b1184f9395d[$i2e93e61d67c274d891066238c74ba6322d527b6d["textsenderID"]] = $i2e93e61d67c274d891066238c74ba6322d527b6d["textsenderID"]; } } return $ib1199182837e705aae8d93f525c88b1184f9395d; } private function f2e417c6ce6885ef9fd0253ef02610a4fe8446157() { $ib1199182837e705aae8d93f525c88b1184f9395d = array(-1 => "- " . v_smswizard_ownnrid . " -"); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT ownnumbersenderID FROM `" . DB_PREFIX . "sp_ownnumbersenderIDs` ORDER BY ownnumbersenderID"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $ib1199182837e705aae8d93f525c88b1184f9395d[$i2e93e61d67c274d891066238c74ba6322d527b6d["ownnumbersenderID"]] = $i2e93e61d67c274d891066238c74ba6322d527b6d["ownnumbersenderID"]; } } return $ib1199182837e705aae8d93f525c88b1184f9395d; } private function f1b1c636527127b1c174f4aa075d5334084c79b0e($i82b103019f8b63abe35e23c8982897d7b3b13cd2, $i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) { $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM `".DB_PREFIX."sp_routes` WHERE `area` = '" . $this->escape($i5a4616ba4ac4a7f21e69ba2afe5e994ae9927078) . "' AND `type` = '" . $this->escape($i82b103019f8b63abe35e23c8982897d7b3b13cd2) . "'"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { return $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row; } return false; } private function fce38023754e1d41cd66ecbcc2dcd83707eb745b7() { $ie5b0dc673ae7185f8cfea133baf9fef6a88b3281 = date("Y-m-d"); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_settings WHERE name LIKE 'lastrefresh'"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { $i08e487fde2fb0fa2679baf305b31a66746f0e7b0 = $i83d1339527a9dc91b02fa99420eb13b0cd47adfe->row["value"]; } else { $i08e487fde2fb0fa2679baf305b31a66746f0e7b0 = null; } if(!(strlen($i08e487fde2fb0fa2679baf305b31a66746f0e7b0) > 0)) { $this->fde47858183a51af74a5310b49c84323c5d1468dc(); $this->Execute("INSERT INTO " . DB_PREFIX . "sp_settings VALUES (NULL, 'lastrefresh', '" . $this->escape($ie5b0dc673ae7185f8cfea133baf9fef6a88b3281) . "')"); } elseif($i08e487fde2fb0fa2679baf305b31a66746f0e7b0 != $ie5b0dc673ae7185f8cfea133baf9fef6a88b3281) { $this->fde47858183a51af74a5310b49c84323c5d1468dc(); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("UPDATE " . DB_PREFIX . "sp_settings SET value = '" . $this->escape($ie5b0dc673ae7185f8cfea133baf9fef6a88b3281) . "' WHERE name LIKE 'lastrefresh'"); } } private function fde47858183a51af74a5310b49c84323c5d1468dc() { $i9ec854a302fbdb72d043506b55d5bf395184517b = new SmsModel($this->getDb()); $i83d1339527a9dc91b02fa99420eb13b0cd47adfe = $this->Execute("SELECT * FROM " . DB_PREFIX . "sp_routes group by area"); if($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->num_rows) { foreach($i83d1339527a9dc91b02fa99420eb13b0cd47adfe->rows as $i2e93e61d67c274d891066238c74ba6322d527b6d) { $i9ec854a302fbdb72d043506b55d5bf395184517b->refreshPriceList($i2e93e61d67c274d891066238c74ba6322d527b6d["area"]); } } } private function f263074bc056f8bd2e1e365a05c308e12de79ddc8() { if(isset($this->payment[0])) { $i3da7d27ed65066b98b003daf0808f54e53cda923[0] = explode(":", $this->payment[0]); } if(isset($this->payment[1])) { $i3da7d27ed65066b98b003daf0808f54e53cda923[1] = explode(":", $this->payment[1]); } if(isset($this->payment[2])) { $i3da7d27ed65066b98b003daf0808f54e53cda923[2] = explode(":", $this->payment[2]); } return $i3da7d27ed65066b98b003daf0808f54e53cda923; } private function faf784b35ab1eb6207b421fa063e85974e7fe70cc($i82b103019f8b63abe35e23c8982897d7b3b13cd2, $i67ace73aba0e91a788e4174d28f4ac3cfa631140, $id8e9eacc9d44f5620e8725984dd39c1247ee67a3) { switch($i82b103019f8b63abe35e23c8982897d7b3b13cd2) { case 0: return v_smswizard_textsid . ' - <span class="note"> ' . htmlspecialchars($i67ace73aba0e91a788e4174d28f4ac3cfa631140) . '</span>'; break; case 1: return v_smswizard_systemnr . ' - <span class="note"> ' . v_smswizard_eg . ' +420602123456</span>'; break; case 2: if(strstr($i67ace73aba0e91a788e4174d28f4ac3cfa631140, v_smswizard_eg)) { $i67ace73aba0e91a788e4174d28f4ac3cfa631140 = '420602123456'; } return v_smswizard_ownnrsid . ' - <span class="note">&nbsp;&nbsp;+' . htmlspecialchars($i67ace73aba0e91a788e4174d28f4ac3cfa631140) . '</span>'; break; case 3: return v_smswizard_simhosting . ' (SIM: ' . htmlspecialchars($id8e9eacc9d44f5620e8725984dd39c1247ee67a3) . ')'; break; } } } 